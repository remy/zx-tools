{"version":3,"sources":["lib/dnd.js","scr-tools/lib/zx-colour.js","scr-tools/lib/Zoom.js","scr-tools/lib/scr.js","lib/$.js","lib/save.js","scr-tools/lib/matrices.js","scr-tools/lib/Dither.js","scr-tools/lib/image.js","scr-tools/lib/retrofy.js","scr-tools/index.js"],"names":["drop","root","callback","ondragover","ondragend","addEventListener","e","preventDefault","stopPropagation","console","log","droppedFile","dataTransfer","files","reader","FileReader","onload","event","Uint8Array","target","result","readAsArrayBuffer","brightColoursLookup","Map","set","toString","normalColoursLookup","brightColours","normalColours","getIndexForXY","width","x","y","order","Zoom","constructor","buffer","document","body","id","HTMLImageElement","img","canvas","createElement","appendChild","height","ctx","getContext","drawImage","parentNode","replaceChild","CanvasRenderingContext2D","sourceCtx","getImageData","data","toBlob","blob","url","URL","createObjectURL","style","background","clearRect","ImageData","isVisible","_last","makeVisible","className","scale","w","h","imageRendering","setProperty","put","imageData","putImageData","seeXY","key","pixel","strokeStyle","strokeRect","sourceWidth","source","Uint8ClampedArray","print","i","j","index","end","offset","subarray","slice","toBlink","blinkOn","block","attribute","start","pixels","ink","paper","readAttributes","ptr","byte","colour","load","fetch","arrayBuffer","sleep","ms","Promise","resolve","setTimeout","draw","third","ctr","line","bit","stream","attribs","type","blink","push","pixelsForSCR","loadBlinkAttributes","join","timer","setInterval","doBlink","stop","clearInterval","length","forEach","item","main","zoom","window","fillStyle","fillRect","onmousemove","bright","readFromPoint","pageX","pageY","innerHTML","padStart","onclick","values","pixelsToBytes","canvasImageData","row","putPixels","allPixels","allData","getInkFromPixel","rgb","shiftBright","get","attributesForBlock","inks","fill","Object","keys","count","Array","from","map","filter","sort","a","b","putAttributes","inkData","download","filename","click","node","MouseEvent","dispatchEvent","Blob","href","revokeObjectURL","ArrayNode","Proxy","obj","prop","value","el","res","on","handler","options","emit","Event","$","s","querySelectorAll","warn","fileName","isArray","oneDimensional","factor","floydSteinberg","jarvisJudiceNinke","stucki","atkinson","burkes","sierra3","sierra2","sierraLite","none","colorMap","getDistance","current","match","redDifference","greenDifference","blueDifference","defaultFindColor","shortestDistance","Number","MAX_SAFE_INTEGER","distance","defaults","step","channels","diffusionFactor","clip","findColor","matrix","matrices","Dither","dither","settings","k","ref","d","handlePixel","calculateIndex","currentColor","l","newColor","q","ref1","diffuseError","applyNewColor","channelOffset","entry","len","results","di","dx","dy","results1","m","ref2","results2","image","imageToBlob","then","fileToBinary","contrast","intercept","threshold","_","r","g","test","v","invertPotentialInk","inkCount","c","crop","destination","longest","shortest","imageToCanvas","imageToPixels","file","onloadend","all","debug","Image","crossOrigin","src","reject","onerror","bufferCtx","render","pixelData","renderFromInk","originalData","pixelsToImage","toDataURL","prompt","scrBlob","scrURL","container","scrCtx","ul","li","attribsLI","img2","inkImg","pixelImg","zoomOriginal","zoomPixel","zoomInk","zoomResult","rootCanvas","querySelector","classList","add","hover","bind","putInkForBlock","newBlock","attributes","blockBuffer","location","search","includes","basename","split","altDownload","isSCR","toUpperCase","endsWith","div","button","innerText","prepend","fileHandler","name"],"mappings":";;AUAA;;AACA;;AACA,ATFO,MAAMsB,SKAE,ULAiB,GAAG,IAAIC,GAAJ,EAA5B;AGAP,AJAe,AOAf,ALAA,AICEgL,EAAAA,IFDIlB,GJAkBrL,AEAf6B,IFAM,CAAc5B,CIA7B,ACAgB,CCCA,ENDD,AMCG,CACd,CNF+BC,EEAnC,CAAuB4B,CEACqI,GCAG,CLAZ,AEAf,CEAA,CAA8B,AJAe,AEAfpI,CAA9B,EAAiCC,CAAjC,EAAoC;AEClCG,AJAAlC,AKAA,AKEF,ARFE,AIEI8B,AGHN,ARCAT,EGAEa,AJAAlC,EMEI8B,CAAC,CNFD,AKAAyI,CLACrK,AKAA,ACEE,CADL,CJDK2B,CGACO,GDAG,CFAC,EEAE,CJAd,AEAeL,CGAC,AHAT,CGAUW,AJAA,CDAC,ACAAnB,CCACO,CAAnB,CDAF,CAAwB,CAAC,CDAC,ACAF,EAAI,CAAJ,EDAtB,ACA6B,CIArB,AJAc,CIAS,CJACN,EIAxB,CAAR,KJAsB,EAAxB,EAA8C,KAA9C;AGCI,ACAFY,AHAD,AIEKL,ALFNV,EIAEe,ECEIL,CAAC,EAAE,CAFL,EDAM,CAACM,CDDK,CAGZ,ECFF,CAAcM,GJAG,CAACpB,GAApB,CAAwB,CAAC,CAAD,CIAtB,CAA0BgJ,AJAA,CIA1B,AJAsB,EAAO,IAAP,EAAa/I,QAAb,EAAxB,EAAiD,KAAjD;ADAExB,AKCAuK,AKCF,AJCMgC,AGJN,AREAlL,EDDErB,AKCAuK,CAAC,CAAC5G,ACEE4I,ENHA,CAACpM,EKCL,CCEU,EDFA,ACEE,INHZ,GAAiB,ACCA,CAACoB,GAApB,CAAwB,CDDC,ACCA,EIAvB,EJAsB,CDDtB,CCC6B,CAAP,EAAU,CAAV,EAAaC,QAAb,EAAxB,EAAiD,KAAjD;AGEI,ACDF,AEFF,ALEA,AIFI,ALEJH,GKHkB,CJGdW,AIJW,ECETiL,GFEG,AHAA,EECE,CFDC,CAAZ,CKFc,CHGC5B,EGHE,CACf,CFCgBhI,AEDf,ANCgB,CGCR,AGFT,ANCkB9B,CGCC,CGFf,CFCG,AEDP,ANCF,CAAwB,CGCb,ACDa6K,AEDf,ANCgB,EGCE,EGFzB,ANCsB,CMFP,CNEc,CMA7B,ANAsB,CIAf,AEAN,CNA+B,CIAA,EEAhC,CNAsB,CMAf,CAAP,ANAsC5K,EMA5B,CAAV,CAFe,EAGf,CAAC,CNDqB,EAAxB,CMCE,CNDkD,CMC3C,CAAP,EAAU,CNDZ,GMCE,CAHe,EAIf,CAAC,CAAD,EAAI,IAAJ,EAAU,CAAV,CAJe,EAKf,CAAC,CAAD,EAAI,IAAJ,EAAU,IAAV,CALe,EAMf,CAAC,IAAD,EAAO,IAAP,EAAa,CAAb,CANe,EAOf,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,CAPe,EAQf,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CARe,EASf,CAAC,CAAD,EAAI,CAAJ,EAAO,IAAP,CATe,EAUf,CAAC,IAAD,EAAO,CAAP,EAAU,CAAV,CAVe,EAWf,CAAC,IAAD,EAAO,CAAP,EAAU,IAAV,CAXe,EAYf,CAAC,CAAD,EAAI,IAAJ,EAAU,CAAV,CAZe,EAaf,CAAC,CAAD,EAAI,IAAJ,EAAU,IAAV,CAbe,EAcf,CAAC,IAAD,EAAO,IAAP,EAAa,CAAb,CAde,EAef,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,CAfe,CAAjB;AHIMmI,AJHJ3J,AKEE,ACGFwM,AGNF,ARGAnL,EDFErB,AMKAwM,IFFI7C,AJHA,CAACvJ,CKECmD,CDCC,CAAC+H,ECDE,CDCH,EAAMC,ACDA,CCGC,EAAE,CFFT,ACDL,ACIA,ALJe,CAAChK,CGCC,EJHnB,ACEF,CDDI,ACCoB,CAAC,CAAD,EAAI,EDF1B,EAEElB,ACAoB,CDAnB,CCA6B,CAAV,EDAf,ACA4BmB,QAAb,EAAxB,EAAiD,KAAjD;AGEQ,AJDFnB,AOcN,ALde,AIITyB,ALJNT,IDAMhB,AMIAyB,CNJC,AMIA,CNJCxB,AEAa2B,CIIZ,CADL,CCWKiL,CLdM,CAAW,GECZ5F,IAAI,CHDC,CDAb,AOcN,ANdoB/F,CGCC+J,AGaA6B,ENdrB,CGCwB,AHDA,CGCC,AHDA,CGCD,AHDA,CGChB,CGaR,ANd4B,EMcEC,ENdN,EAAU,CMclC,EAAqC,CNdb,EAAgB5L,QAAhB,EAAxB,EAAoD,KAApD;ADCMnB,AKAF,AKDJ,AHeE,ALdA6B,AMPF,AFWMH,AGRN,ARIAV,ECAEa,EFAI7B,AMIA0B,CNJC,AMIA,CNJCxB,AUDFY,CJKG,CDJDkC,AEcAgK,ADZJ,IDFQ,AKDA,CRCC,CAAClL,CQDC,ITCI,CCAN,ADAOZ,CDAd,AOce,CLdCL,CDAtB,CIAwB+J,AEcAkC,ANdA,CSDP,ATCQ,GIArB,AHAwB,CDAJ,CIAM,CEcC,ALdA/K,ADAA,CMcC,CAAD,CGfhB,AHeS,CNdA,CSDI,CAAb,AHesBgL,ANdA,CSDrC,ATCwB,CCAe,CAAC/K,ADAAb,EMcE,CAAC,CAAD,ALd7B,CKcX,CLd4Cc,EAAjC,ADAW,ECA0B,ADAlD,EAAoD,KAApD;AGEQ,AJDF9B,AKAA+C,AEcJ,ALdE,AIIEgJ,ALJNlL,IDAMb,AMIA+L,EDJAhJ,EEcE+J,CLdCpM,CGAC,ACIE,CNJC,CICDoG,AJDE7G,AMIA,CDJD4C,ELAP,AEAF,CECY,AJDE,AMIA,CDJZ,CHAYnC,CDAC,CGCCqK,AHDAhK,CDAd,EAAmBvB,AOcF,ANdvB,CGCwB,AFDpB,ADAoB,CAAC,CMcCmN,CPdpB,CICsB7F,CHDJ,EAAO,CGCvB,CGayB,CHbC,AGaA,CAAD,ANdT,CMcE,CNdW,EMcE8F,ENdf,EAAmB5L,CMcC,CAAC,CAAD,CAA1C,INdsB,EAAxB,EAAuD,KAAvD;AGEU,AJAJ,AKDD,AKDL,AHeE,ALdE,AIAA,ALCG,GKFW,EDDd,ACOA,CLJSC,EMaL8L,CGfCyG,ARCAhS,CFCGtB,CKDD,GHAP,GECa4G,AMFjB,ARCiBtF,CQDC4I,GNEG,AJAE,CIADW,AGaA,ALdA,EFCIlL,AEDtB,CFCuB,AOaF8M,ANbO,CGAX,AJAOxM,AUF5B,CNEU,CMFkB,ATEO,IMaH,ANbOW,CMaN,CAAD,CAAP,ANbU,EAA5B,CDAmB,AOaY8L,CPbGxM,IOaE,CPbjB,AOakB,CPbG,AOaJ,CPbjB,AOaxB,CPbI;AICG,AJAH,AKDA,AKDJ,AHgBA,ALfE,AIKEkB,IAAAA,CAAC,EAAE,CAAC,CIND8I,AHiBLyC,ALhBK/K,AIIL,CNHQzB,AKDF,CAACqJ,AHAP,GAAU5H,EFCI,AKDF,AHAA,CGAC+J,AKDA,CACZ4H,CVCgB,CEDA,EKgBJ,CPfQnT,AUFhB,CLCE,AKAA,CLAcuC,AEgBLgK,EGjBX,CRCmB,CGAjB,AKCN3H,CLDC,EAA0B,CLCX,AEDY1D,CQDxB,CVEH,AUAK,CAFF,EAEK,AHeV,ALhBmC,CQCxB,CAFN,ARCL,CKiBAsL,CGfC3F,IAHI,CAGC,GAHD,CAAP,KHkBiB,GAAG2F,eADlB,GAEAC,cAAc,GAAGA,cAHnB;AFdMlK,AKEP,AHiBA,AC5Bc,AFcTtB,AGJC,ARDPN,EMqBA,EDhBMM,CAAC,EAAE,CDLDsB,ACGJ,CEZoB+E,GHSZ,CGTG,CAAc2H,CHSd,AICOzB,CJDNjL,GGTD,APSI,CIAJ,AJAK9B,CIAZ,AGT4B,ACU7B,CAAsB,CRD7B,CAAwB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAUC,QAAV,EAAxB,EAA8C,KAA9C;AGEQ,AJDFX,AKAC,AHDH,AMRF,AFcI0L,AGLyB/I,ANZ/B,AFYA/B,EQA+B+B,ETAzB3C,AMKA0L,CGLuB,GPDrBpK,CMRC6N,CRSG,AMKA,CNLCjP,CMKC,EJNA,CEECuK,CEIG,CNLZ,CICY,CAACC,AHDA,CDAGvK,AQTF,APSAO,COTCwO,EJUH,AHDlB,CGCQ,AHDgB,CDAG,ACAF,CCDCxN,AMRN,APSI,COTf,CAAmB0N,APSA,CDAG,ACAP,EAAO,COTtB,CAAwBC,EPST,EAAa1O,KCDjC,EAAwC,CMRnC,APSe,COTtB,CPSF,EAAiD,KAAjD;AGEO,AJDCvB,AUER,ARHM,AMRL,AFUG,AGFgCqR,ARCpC7P,EQDoC6P,CHJlB,EAWd,AGPmC,CTC/BrR,CIRmB,CKOe,CCGjCsS,GRHG/P,COAiB,CTCb,CAAC,AEDF,GQGf,ARHkBL,CFCGlB,AUEF2J,ATFA,CAACrJ,GAApB,CCDM,ADCkB,CAAC,ESEzB,EVFiB,AUEY2S,ATFL,CDAQlT,CCAD,CAAP,EAAU,CDAG,ACAb,CDAcE,CCADM,GSErC,EVFgC,AUEU,CVFGL,ECArB,EAAxB,EDAiB,ACAgC,CDAjC,CAAR,GCAR;ADCO,AKDDoC,AKGJ,AHiBF,ALpBM,AIOAzB,AGR2CyP,ANLjD,AFOA9P,EQFiD8P,EHQ3CzP,CNRA,AMQC,CDPDyB,CCOG,AGR6C,CCI9C4Q,AJGJ,CCcK3G,CFpBC,AID+C,EPC7C/K,CGAC,AKGA,GAAGmI,CLHCK,CHAC,CDCC,CAAC1J,CIDP,AHAQa,CGACiB,CJCtB,CSEwB,ATFA,CSEC+Q,AHiBzB,ANnByB,CIDZ,AEoBa3K,EFpBE,CEoB5B,ALpB6B,ADCL,CCDM/G,CKoBC,ANnBA,CAAP,EAAU,ESElB,ETFQ,CSEe2R,CTFC7S,GCDnB,CAAuB,GQG5B,CAAgC,ATFxB,EAAxB,ECDqB,ADC+B,CCD9C,CQGU,CAAd,ETFF;AGEMD,ACHwB+F,AKK5B,AHgBA,ALpBIpG,AMRC,AFeDa,AGTuB,ARG7BN,CQHO,EAA2D,CHS5DM,CAAC,CFLDR,AGkBAkM,ALpBAvM,CIOG,CDRqBoG,AKKtB7E,AJCJ,CFHK,AIVO0N,CJUN7E,ECHwB,AHCtB,CEEH,AFFI3I,CGDuB,AKKtB,CNFC4I,EMEEnJ,AFZV,CAAkBqC,CJUhB,AHDU,CAAClD,CGCCiK,CGkBnB,CNnBF,CCDM,ADCkB,CSGC,ARJA/I,ADCA,CGChB,AMEiBC,ATHF,COTjB,CJUqB,AHDA,COTQyN,ENQ9B,CDCkB,EAAU,CAAV,EOToB,APSP3O,ESGpB,CAAuB,AFZO,EAAxC,EAA4C,CPS3B,EAAxB,CSGiB,CAAf,ATH+C,KAAjD;AGEQ,AJFFX,AKFsB,AKM1B4B,AHgBA,ALpBIA,AMRJ,AFeI8J,AGTJ,ARGF9K,ESGEgB,EVJI5B,AMOA0L,ECaAjH,ALpBA7C,CGFO,CAAP,AKME,AFZAY,ACMAb,CCMCX,CVJG,AMOA,CNPCT,AOoBX,AEtBS,CPEC,AMRA,AFeE,CJPDS,CEECyF,AMEZ,ADNY,CDNC7C,CFeG,CIHD,CNFC,AFFZ,AOFY+M,CRGC,CSGjB,ATHkBjQ,CGCC+J,AFFA9I,EOFP,ARGd,CGCwB,AFFA,AMRA,APSA,CGCC,AFFAX,AMRAwB,ACMvB,ARGuB,CGCD,AHDA,CGChB,CJFF,ACCsB,CDDG3C,AQR7B,CNQI,EDCkB,EAAU,IAAV,EDDlB,ACCkCc,QAAhB,EAAxB,EAAoD,KAApD;ADAK,AKFA,AKMHiB,AHiBA6C,ALrBI7C,AMRJ0N,AFWE,AGLF3N,ARGFf,ESGEgB,AHiBA6C,AC7BA6K,ACMA3N,CTXA,AMKgB,ENSd,AMOA,AGVC,CPECC,AOFAgP,CFuBC,CGjBC,CAAC7O,CVjBP,AOkCQ,AC7BA,CD6BC,CAAT,ALrBU,CAACA,AMRAuN,EEYX,EDNA,CCMgB,CRJZ,ADCa,CQHC,ARGA5O,CSGlB,AFZmB,CNQCiB,CDCtB,COTwB,APSA,CCDC,ADCA,CCDCI,CMRb,EPSW,COTM,CAA5B,ACMA,ARG6B,CCDzB,AMV6C,CAElB,EPST,EAAa,CAAb,EAAgBpB,QAAhB,EAAxB,EAAoD,KAApD;AGEQ,AJAP,AUEC,AHiBAiM,ALrBI,AIQA3L,AGVJU,ANNF,AFSAf,EMoBEgM,AEvBAjL,EHUIV,AHhBF6D,CGgBG,AGVF,CAAC+L,CHUG,CIJD7O,AJGJ,CGTF,ECMS,APZA,CCUCyE,AFFAzE,AOFAW,ECMEf,APZA,CDQC,AOFb,CLIc,ADVhB,EI6BkB,ALrBCN,CDCA,CGCCoJ,AMEA,ATHAhK,CSGCuB,AHiBA4K,ENpBrB,CGCwB,AFFC,ADCD,CAAC,EMoBE,ALrBCjL,CEEA6E,AGmBAqG,CNpBJ,ESGV,ATHiB,CGCvB,AMEwB,CRJE,CEEA,AFFC7K,CDCX,CSGV,CAAZ,ATHmC,IAAb,EAAmBtB,CMoBzC,ALrB0B,CAAkB,IAAlB,CAAtB,CDCkB,EAAxB,EAAuD,KAAvD;AGEU,ACLN,AKOF,ARJIqB,AMTJ,AFiBId,AGVJ,ANNF,AFUO,IKMDA,AHhBF6D,CGgBG,CJRD/C,ADEOnB,CKMJ,CIJD4S,AFbAlE,AFeJ,AGRI,CPEC,CGHC5M,AHGAT,CQIC,APZA,CMMC6D,CJDC,CKOCxE,APZA,EEKEqB,CDKC6H,AIXA,EHME,AHGb,AOFE,ANNR,AFU0B,CGAN,ACLA5H,AHGAlB,AMTA,ACOA,CLIC6H,AKJAxD,CCMC,ATFO,CSENnE,ARJjB,EAAmB,CAAnB,CEEW,AIXU,CJWE+I,AFFD,AOFR,CPEd,CEEsB,AKJEkG,CDPCxB,GJWM1E,CCLrB,CDKuB,ACLHlI,AKOtB,ADNM,CLIoBgI,AMEH,EFbjB,CHMJ,AGNd,CJWqC,ACLnC,AICqC,CLIJ,AMEvB,CAAZ,ENF8CC,KAA/B,CAAP;AACD,ACLLjB,AKOF+J,AHiBA,ALrBI9R,AIQA+J,AGVF/J,ARIF,ESEA8R,ELPE/J,ACWEgC,AGVF/J,CJDC,AKOA,CLPC0I,AKOAhH,ARJA1B,CKqBC,AEvBA,CAACzB,CPEC,ADEA,CILL,AHGMiC,AIQE,ALNF,CMmBCoC,ANnBF,CMmBG,ADbE,CDXD5B,AJKA,CQJT,ARIK,CSEP,AHiBa,CFxBX,AEwBF,ADbgB,ALNF,CQJCqD,ARIR,CSES,AHiBAzB,ANpBW,CMoBV,CLrBb,CAAenC,CKqBCgK,EEvBlB,KCMF,CHiB4B,CAAChF,ELrBzB,CAA4BxF,GKqBhC,EAAqC2C,CAAC,ALrBlC,EKqBJ,ALrBwC5C,EKqBE,CLrBtC;AGFF+H,AKOF+J,AHiBE,ALrBC,AMVH,AFcE,AGNA9R,ANNJ,AFUE,ESEA8R,CJhBgB,CDSd/J,ACjBW,AGkBX/H,CJDC,AKOA,CLPCmI,AKOAhI,CFdC,ACQA,CAACiP,CNNC/L,AFUA,CMmBCuH,ANnBA,COZChI,APYF,COZG,CPYC,CILT,AFLJ,AFUS,CMmBM,AC/BA,ACQX,ANLFtD,CKHA,ALGC,AFSa,CILCsK,AKOf,CAAgB3J,AHiBAwK,AC/BA7H,ACQAuM,CDRC,ALGb,CADN,AFUS,CAFoB,COVPtO,ALIpBtB,CAAC,COUD,ADNE,CJDA,CEwBsB,AC/BA,ALIpB,CI2BqBqD,AC/BA6C,ALE3B,CI6B0B,CAAtB,AJ1BF9F,IKLA,EAAiCiD,ALEnC,CKFoC,CLK1B,GKL8B,CAAtC,EAAyC;AJanC,ACLJmF,AKQF,AHgBE,AC/BAlH,AFmBFoJ,AGXC,ANHD3G,AFOA,EKOA2G,CGdM,CJEJlC,AGPAlH,ACKF,CJEG,CAACwH,EKQE0J,AFfA,CAACnP,ALKE,AFOF,CMmBCwI,AC/BF,APYE,CILN,AGPA,CLKUzL,ECOAuJ,AMGA,AFfArI,APYL,EAAO,CGAC,AMGAjB,ATHR,CMmBS,AC/BA,ALKE,CKLDgD,AFmBA,AHdEK,AFOF,CGAE,AIZH,APYT,CMmBYyH,AC/BP,AFmBO,ALVQ,CKWzB,EEpBoBiD,CJYE5E,AMGD,CAAC7I,CPVZ,CAAgB,CCOT,GGmBW,AC/BlB,CJYoB8I,AGmBD/B,EC/BE2G,ALKE,CI0BL,AJ1BlB,ECON,AGmB8BhD,AJ1BErL,COUvB,APVwB,COUD,EPVI,CI0BZ,CAA5B,AC/BA,ALKoC,GAASD,COUhC,APVH,COUZ,APdF,EAKE;ACOM,ACLJ2B,AKQF6Q,ARLE,AMVAjR,AFoBEvB,AGZJ,ANFA,AFMA,ESGAwS,ELRE7Q,AGPAJ,AFoBEvB,CILD,AJKE,CILDa,ADPA4O,CJDC,ACaE,CDbDpG,AHGAhJ,AMVA,AFmBJ,AHbI4D,CKNCX,APYA,COZC,APYA,CQJR,EDRW,ACQAhD,ANFA,CDIC,AMVN,APYC,CGAMsJ,AIZX,CLMY,AFMA,CSGd,APTgB3J,AFMT,CGAD,AMGUwS,AFfAlR,ALMC,CFMA,EQJE,ANFC,CKNA,ACQAhB,ANFL,CECb,AGPmB+C,APYd,CILe5B,AKQtB,AFfsB,APQK,CEFF,CDIDN,AOFb,ANFG,CECZ,AGPuB,ACQAP,CDRL,CAAJ,CLMc,EKNAwN,ELM9B,IMEW,CAA0B3N,CDRrB,ECQL,CDR8B4N,ONUvC,EAAgD,AMVhD;AJaG,ACLJ,AEwBC,ALrBE,AMVF/M,AFoBEtB,AGZJ,ANFA,AFMA,GIrBA,CGSEsB,AFoBEtB,CAAC,EAAE,CCWD6L,AC/BA,AFkBJ,AGVI/K,ANFAmD,CKNCZ,APYA,COZC,APYA,CQJC,ARIF,CCFGvC,CMVC,APYA,COZL,ACQM,ANFA,CDIC,AMVX,CD+BY,CJzBCV,AFMR,CCFU,AMVDkB,CD+BCoK,ANnBA,CAAV,CALoB,COPP,CNUEtK,AMVDiC,ALMA,CKNC,ALMAK,GKNG,CAAL,CAAJ,GNUC,AMVa0K,ALMf,CAAgBpK,EIyB7B,ALrBgC5D,EKqBC,CJzBpB,EKNC,ACQUK,ANFYuD,CDIlC,EMVqCqK,ACQ7B,EAAmB,ANFY,GAAG,IKN5C,ALMa,CAAf,CAFA,CAIA;AEAD,AKOCmE,AHiBIjP,ALrBA,AMVH,AFoBGiH,AGb6B1K,ARKjC,CI1Ba,CK4Bb0S,EJMIhI,AGb6B1K,EFwB7ByD,EGjBE,CAAC0D,ADP+B,ARK/B,CKQG,ALRF,CMmBC,ALrBA7G,AOH+B,ARKjC,CKQK,CLRD,CMmBCiD,AExBmB,CFwB3B,CGjBJ,AJMgB,CJVZ,ADEG,ESEU,ATFA,CCFCjD,GDEX,CANoB,ECIH,CAACiB,IQII,QRJX,CACZ,CADY,EAEZ,CAFY,EAGZjB,MAAM,CAACM,MAAP,CAAcZ,KAHF,EAIZM,MAAM,CAACM,MAAP,CAAcG,MAJF,EAKZS,IALF;AEnBqB,AMwBvB,AHiBEoK,ALhBA5K,AICF,AGV2CD,ANC7C,AFKA,GKGmB,CGT0BA,CLhBpC,AE+BP,CF/BA,AGyCE6K,ALhBA5K,ECRE,CDQC,ADHA,CSECuO,ARCA3O,AOT2C,ARM3C,EQN6C,ECQzC,ATFL,ECGH,ADHU,CSEC,ARCAa,GDHR,EMmBa,ANnBA,CSEC,ARCjB,ADHG,CCGeC,ADVK,CM0BJqK,EGjBEhH,CRCC,IAAI,CKgB1B,CGjBiB,CAAYC,OAAO,IAAIpE,MAAM,CAACa,MAAP,CAAcuD,OAAd,CAAvB,CAAnB;ANFD,AMIC,AHgBC,ALhBG,AMhBN,AFsBI/E,AGhB2B,ANCvBmE,AFMR,GQPY,CHgBRnE,AGhBJ,ANCQmE,CGeH,EAAE,AHfD,CGcJ,CErBKxB,APaA,CAAC,ICGIjB,ADHL,EAAO,CCGC,CMhBf,ENgBkBC,ADHX,EAAa,CSGb2N,ARAc,CAAC1N,EDHf,CSGL,EAAWsQ,QAAQ,CAACpJ,CRAJ,CAAoBrH,IAApB,CAAZ,CQAe,CAAR,GAAqB,MAAhC;AACD,AHgBA,ALhBKV,AMhBP,AFsBKd,AGhBJ,ANAamE,AFFc,CAAtB,ESQL,CJUInE,AHhBSmE,CGgBR,EAAE,CJNDrD,AIIJ,AGdIJ,GPUG,CAACA,EOVE,GAAGI,CPUT,CAAWc,COVC,CAAClB,GPUb,CAAiBmB,EOVvB,QPUM,GAA+B,OAAMJ,GAAI,aAAzC;AEHNmI,AFIM9I,AIMF0J,AGhBJ,ANDM,ECONZ,EAAE,AEUEY,CFVDvL,CDPoBmF,EDWjBtD,AOVAuB,CAAC,CLML,AEUQ,CJND,CEJCwH,AFIA/H,AIME,AGhBFpB,IHgBM,EGhBA,CLMd,AKNeZ,CNDoB,CCOlBgK,AFIb,ACXgC/F,CDWlB,CAAd,COVN,CPUuB,CAAjB,EEJJ,AFIwB3D,EEJE,ADPS,CAArC,GDWgC,CAACM,MAAP,CAAcZ,KAAlC,EAAyCM,MAAM,CAACM,MAAP,CAAcG,MAAvD;AEHJ,AMGF2R,AHiBA,ALhBK,AMhBA,AFkBH,AGZF,ANDA,AFQK,ESELA,CJHmB,EAWjB,CLVS5S,CCDP,CQGE,ADTA0C,ANDAQ,COUC2P,AHiBA,AChCOnE,ACMP,CF0BC,CHpBC,CKNC5N,CF0BCwK,AJ3BA,GCOG5C,ADPA,EOUd,AFfK,ACMW,CDNQhH,ACMPT,AROO,CERNsC,COUC,AHiBA,CHpBV,AGoBWI,ANnBO,CGDLmG,AIZjB,EJYgB,AIZS6E,ACM9B,CDNK,CDgCc,CAAZ,AChC0BD,CJYJ5E,CGoBD,CHpBG,CAACrL,CGoBzB,CAAP,CGjBA,EFf0C,ALK5B,CAAsB,EKLSkQ,CAAxC,CLKmC,CKLQ,ALKZ,GAAQ,CAA9B,CCOe,ADP7B,CCOiDtP,KAApB,EAA2B4K,OAA3B,EAAoCC,OAApC,CAApB,CAAP;AACD,AGoBF,ALhBI,AMhBH,AFuBI/J,AGhBJ,ANFAC,AFQA,EERAA,CAAC,CGkBGD,CJpBF,AIoBG,CGhBDyP,ANFAxP,CKLC,AFuBE,AHlBF,CGkBG,CADN,ALTK,CERC,AFQA,CCGC,AMhBAqD,ACOT,ANFA,AFQO,CObG,CCOChD,ARMA,CAAJ,CObM,CAAb,APac,CAAP,CObSgD,APYW,COZV,ECOE,CDPC/B,ACOAhB,IDPI,ACOb,CDPc4F,ACOAtF,MDPzB,EAAiCyC,CAAC,ECOvB,CAA0B3C,CDPC,CAAtC,EAAyC,ECO9B,EAdqD,CAgBhE;ACOA,ARCI,AMhBF,AFuBEV,ALVJ,IKUIA,CAAC,CIRD,CAACoS,AJQE,CAFL,CLRK,CObC5D,APaA,CCGCpO,AMhBA,APaF,CSEP,CTFW,CSEC,AFfAkB,APaL,EAAO,CCGV,CMhBY,CAAC+B,CNgBCjD,AMhBF,APaT,CObL,APWyB,KCKH,YAAY2B,SAAlB,GAA8B3B,MAAM,CAACkB,IAArC,GAA4ClB,MAA1D;AEHJ2J,AMGE,AHiBJ,ALhBK,AMhBD,AFuBES,AGfJ,ANHA,AFQA,EGDAT,EEWIS,EFXA,AGoBAsB,CHpBCvG,ADPA,CMGCuK,CRKC,CSEC0C,AFfA/D,AFuBE,ALVF,CGDJ,AIZK,ALKApL,CGkBG,AHlBF,CCOC/B,CGoBC,AChCAA,APaL,CERM,COUC,AJQE,AHlBhB,AFQc,CGDV,AGoBW,AExBA,ARKR,CObS,ALKA+B,CCOC,AMGAhD,AFfAgD,ALKA,AFQA,CObC,ACQAhD,ARKX,CAHoB,CELP,CKLC,ALKrB,CKLgB,CAAd,ALKqBgD,CAAC,COUC,CAAC1C,ADPA,ANH1B,CMG2BA,CNHC,WOUX,CAAuB,ADPtB,CAAuB,OCOxB,CAAf,ADPgB,EAAiCI,UAAjC,CAA4C,IAA5C,CAAlB;ALKE,AMGAwR,AHiBFxG,AChCE,AFmBA,AGXF+D,ANHE,AFQF,EMmBA/D,AExBA+D,CHAmB,CIOjByC,CJSA,CCQE,CGjBC,CAAC3R,AHiBA,CADS,ANlBR,CGDC3B,AIZAwJ,ALKApE,AFQA,CObC,ACQA,CAAC3D,CNHC,CKLCY,APaL,CGDM,CDPCvB,AFQA,CERC,AFQR,CGDS,AIZA,ACQhB,CCOE,AFfesD,ACQAvD,ARKA,CSEC0S,AFfA,ALKA,ECOExI,CIZC,APad,CObS,ACQhB,ARC2B,COTzB,CEeA,APVsB3G,CCOR,AKJShB,ANHX,CCOYkD,AKJ1B,ENH4BvF,CAAC,CCOb,EAAgB,ADPA,EAA9B;ACOgCsB,AGqBlC0K,ALjBE,AMdA,AFuBEjM,AGhBJ+P,ANHE,AFQF,EMmBA9D,AExBA8D,EHgBI/P,CAAC,CFb6BuB,CEa3B,CAAC,CJTDU,AIQL,ALVK,CMmBC,AC/BA0M,ALIApK,AFQA,CQLC,ARKF,CMmBG,AExBA5D,CFsBK,ANjBJ,COZC,ALIA,GKJG,ALIAuD,AFQR,CCEL,AOPF,CAAiBpD,ARKA,CAAV,CCEY,ADPQ,EEHN,CAACwD,CMGtB,CPOE,AMdsBmK,CAAT,ALIM,CMGKlM,ANHxB,CMGF,ANL4B,CKFA,ALM1B,SKNmCmM,CAAtB,GAA0B,SAAShG,CAAhD;AJU8B,AMI9B+J,AHkBFvG,ALjBE,AMbA,AFsBEjM,AGfJ,ARIA,EMmBAiM,EGlBEuG,AJUExS,CFdY,AEcX,CFdH,AKDEwP,CHeG,CAFL,CJPKvN,ADFA,CSCC,AFZA0M,APWA,CSCC1H,AFZA,ACOT,ARIO,EQJI5G,ARIA,CCET,AMbUqO,GD8BG,ALjBA,ADFR,CSCL,AFZc,CD8BC,ANnBA,ESCE,ARCjB,AONiB,CFoBJ,AC3BKJ,ACOAhO,CRIb,CANoB,EQEhB,CAAcM,IDPb,EEYmB,CFZC,GAApB,CCOD,CAA0BkP,CDPC,CAApC,OCO4C,CAACpP,MAApC;ALET,AMIE,AHkBJwL,ALjBC,AMbC5K,AFsBEkJ,AGdJ,ANJE,AFOF,EMmBA0B,EC9BE5K,AFsBEkJ,ECQA,EAAE,AC9BA,ACQA+B,CDRClJ,ALIA,AFOA,COXD,AFsBI,ALXF,CGHC,AIRP,CFsBU,CHlBDC,CI0BC,AC9BAhC,ACQA,ANJA,AFOL,CMmBO,CHtBAgH,AGkBC,ADJC,ALXF,CQHC,ANJA,CKJC,ALId,CKJejF,CAAC,ALIAC,AFOX,CQHYgJ,ANJA,CCIV,AHGW,CGHE5C,AIRD,APWd,COXS,ALIM,AFAK,CGIN,AMIZyI,AFZG,ALIV,EAAuB7O,CKJChC,ALIA,CCIGoI,CDJ3B,CCI6B,CAACT,AIRF,ALIA,CKJC5F,CAAC,EEY5B,ADJW,CDRoB,ACQT,CCIJ4O,AFZQ,CAAJ,GAActD,CAAtC,EJQ2B,CAAiB1P,AMIhB,CAAC4J,INJF,CAApB,CAAP,EMI4B,CAAR,GAAqB,MAAvC;ANHH,AMIE,AHkBHsD,AC9BC,AFkBC,AGVAC,ANJE,AFOJ,EMmBAD,CD5BmB,CGMjBC,CCEA,AJaA,ILZK,CQHC,ARGA,CMmBC,CEtBCE,CFsBCb,CNnBJ,EAAO,IAAP,EAAa,IAAb,EQHUY,CFiBF,OEjBL,CAAgBpB,IADA;AFwB1BmB,ALjBAlK,AIUInC,AGfFgM,ANJE,AFFuB,CAAtB,CM4BLK,ALjBAlK,EIUInC,AGfFgM,CHeG,EAAE,CCOD,ADRJ,AGdI,EFsBEM,AEtBA,ENJE9H,CDSC,CAACpF,ICTI,EDSE,CCTC,CAACmF,CDSC,GCTG,EI0BPmG,ALjBStL,CCTE,KDSjB,ACTuB,EDSA,ECTImE,CAAnB,MAA4B,CAA5B,GAAgCa,KAAhC,GAAwCD,GAAvD;ACjCwB,AMyC1BsO,AHYa,ALVb,AMbF5D,AFuBI5O,AGlBsB,ANAtB,CIkBN,CCvBE4O,CCKe,CCMb4D,AJYExS,AGlBJ,CHkBK,EAAE,CAFL,EIVM,AREAU,CQFC+R,CPNChP,IDQI,ECRE,CDQCpD,CQFf,AFXgB,CAACiB,ALKAgC,CAAC,COMC,EFXH,ALKK,CKLvB,ALKmB,CDQM,CAAC3C,CCRC,IAAI,CAAJ,GOMzB,APNiC0C,CAA/B,GDQa,CAAuB,QAAvB,CAAf;AQDD,AREC3C,AMZF,AFsBI8J,AGdJ,ANJI1H,IDQFpC,AIUE8J,EHlBA1H,EMIE,CDRCxB,CNYC,AIUE,CJVDa,ACRA,CGkBG,AHlBFsB,CKJV,GFsBgB,EHlBA,EDQd,CCRiB,CAAV,CDQY,ACRjB,GAAoBc,GDQtB,GCR4B,CAAC,CAAD,CAA1B;ACGC,AGuBQ,ALjBX7D,AMZH,AFkBG,AGXMgC,ANHJI,GGPe,CJejBpC,AOLMgC,CHgBN,CFjBSuH,AGuBQqC,AJzBfxJ,CCEQ,GAAG,AFMP,CENQoH,AFMP3J,ACRA,CCEM,AGuBF,AJzBHkD,CIyBgB,ALjBxB,AOLe,CLDE3C,CKCA6H,CPKL,CENQ,CDFN,ECEStI,CFMNE,ACRA,CAAV,CDQP,ACRE,GAAoBgE,ECET,IDFe,CCEQ,ADFP,CAAD,CAA1B;ACGJ,AMIAnF,AHmBAe,ALjBEhB,AIWEY,AGjBE,ANFF+C,EOMJ1D,AHmBAe,ELjBEhB,AIWEY,CAAC,CGjB0B,ANF3B+C,CGmBG,CFjBD6G,AMIA,AJYJ,CIZK+I,CREC,CENC,AFMA9R,ACRA,CME4BmP,ANF3BtM,CIyBC,CHvBC3C,AGuBAgJ,EGnBZ,CNJe,AMIAyI,CNJCpI,AKA2B,ANF3B,CME4BrJ,CCI5C,CHmBW,AJzBQ,CDQjB,AONyC,ANFlC,CIyBY,ALjBAJ,ACRjB,CME6CoP,ENFzBvL,GDQtB,GCR4B,CMEa,ANFZ,CCEnB,ADFkB,CCEG2F,AKA2BqC,ANFxD,CCEQ,CAAZ,IKA2C,EAAyB;ACKpE,AHmBE,ALjBA,AMZG,AFuBDvM,AGjBFiM,ANFEnJ,IGmBA9C,AGjBFiM,CHiBG,CHnBDnJ,CGmBG,CAFL,CIXKhC,AHmBAgJ,ALjBAhJ,AMZO8N,ELIL,COMT,AREE,ACRQnL,GDQG/C,CKiBX,EJzBc,CIyBC,AEvBA,EFuBE,ALjBA,AONA,ANFA,CDQCK,ACRX,CAAL,CIyBkB+K,AExB8C,END5C,CKJnB,CAA4BpJ,CLI7B,GIyBa,ALjBJ,CAAkB,IAAlB,AMZR,CNYH,CMZ0C;AJO5C,AMID,AHkBiC,ALf9B,AMbF,AFuBI8H,AGjBF4B,ANFC,IGmBC5B,AGjBF4B,ELAEzC,EINErD,CJMC,AGsB4BwD,CHtB3B5D,AFOA9D,AIUE,AGjBF,EDNE,AFuBE,AGjBFkK,GPOG,AMbA,CJMT,AEiBY,EJVA,CMbCpM,CNaf,CEPiB,CAAnB,EAAsB,IKALmM,IDNJ,CAAS3J,GCMZ,CAAgBkI,KDNb,CAAb;AJOEnM,AGqBe,ALdf,AIMA,AGhBkE,ANCnE,GGXkB,AGUwB,CLGzCA,AKHF,CFwBE,ADHA,KJXM4D,CEPC,AFOA,CEPC+H,EFOG1J,EEPX,CAAc,GAAEwJ,AFOC,CEPC,AFOApK,KAAP,GAAe,CAA1B,MEPA;AACD,AMIH,AHiBG,ALdC,AMdF,AFyBIC,AGjBJ,IHiBIA,CAAC,EEzBA,AFyBE,CADL,AGhBI,EPMEuC,CAAC,AMdAtC,CAAC,ENcGU,CQHAiS,AFXA,CAAb,EAAgB3S,CAAC,CNcE,CAACa,CMdA,IEWtB,CAA2BS,ARGZ,CMda,CAA1B,CNc6B,CQH/B,ARGI,AMd2BtB,CAAC,CEWC6I,CFX/B,EAAkC,KEWpC,EAA2CtD,IAA3C,EAAiD;AAC/C,ARGE7E,AMdA,AFyBEV,AGlBI0C,ANFR,IDSEhC,AIWEV,AGlBI0C,CHkBH,CIdDmG,CJcG,CAFL,CEvBK,ALKA/F,CDSC,CAAClB,EMdE7B,ACOM,CCIL,AFXA,ALKZ,COMasS,ADJMrC,CPOjB,CAAazN,AMdA,CAAb,EAAgBxC,CAAC,GAAG,EEWlB,GAAuBuS,CFXC,CNc1B,AMdA,EAA6BvS,CNcC,AMdA,EAA9B,CEWE,CAAgC,AFXA,MEWhC,CAAJ,ARGE,EQH2C;ANH7C,AMIE,AHiBF,ALdEW,AMdE,AFyBA8J,AGnBE,ANDP,IDSG9J,AIWE8J,EGnB6B,GLC1BnB,CFOC,AIWE,CJXDzH,CMdCkC,AFyBE,AGnB2BmM,CFsB5BxE,GLdT,AIWc,CJXD3L,AMdA,CJOC,CAACsI,CIPC9B,ENchB,CEPK,CAAeqD,AIPA,CNcE,AMdD7G,ACM6B,CAACgN,CLC9C,AMIQxO,CNJf,AFO0Be,CKc1B,ALd2B,CMdT,CEWhB,AFX2BtC,CD4BC,ALdAqC,AMdZ,CEWGoO,CFXWxQ,CAAd,ACMkC,CDNhD,CNcgC,AOR4B8P,IPQ9D,CQH4B,CAACjH,GDLqB,CAApD,CAjCgE,CAmChE,ECG8B,CAA5B;ANHH,AMIE,AHiBC,ALdAnI,AMbE,AFoBF,CFtBG,EMUL,AJnBmB,CJwBjBA,CIYA,IIfK,CRGC,AMbAmO,CD2BCpD,ALdA7J,KAAP,CAAaf,CMbC,GAAG,CAAf,CNaF,GAAuB,CKcvB,ELdyByB,CAAC,GAAGF,KAAM,IAAnC;AQFA,AHiBD,ALdC1B,AIYEX,AGnBJ,ANFK,IDSHW,AIYEX,CAAC,EAAE,CAAC,AGnBFkE,CHkBJ,CIdMzC,ARGA,CAACI,GQHG,ADJA,CNFQ4C,CDSlB,CQHa,ARGAhC,AOPA,ENFV,CAAoBf,COMNyH,ADJAhK,ENFd,EOMU,APNe,COMN,CAACoC,CRGvB,CAAyB,EQHH,ADJT,CCIA,ADJgB,ECIC,IRG9B,AOPmC,EPOC,COPR,GAAc,CPODrB,AOPb,GAAkB,EPO9C,COPa,CAAf;ACIkCsF,ARIhC,AMdE,AF0BAvF,AGnBJ,ANFA,IGqBIA,CAAC,CIhB6BuF,CJgB3B,CAFL,CJVKvD,ACTA,EKLE,ELKE9C,EKLEmE,CAAC,ENcZ,CMde,CAAb,CNce,CMdCA,ACOV,CDPW,ACOrB,ANFO,EDSL,AOPWY,ANFS,CKLE,IAAI,CAAJ,ACOxB,ANF4B,CAAC,CMER+L,CDPW,CAA5B,EAA+B3M,CAAC,ALKDoB,IKLK,ACOV,CDP1B,ACO2BnD,ANFS,CAACG,CKLE,ECO3C,ANFwC,CAAZ,EAAmBiD,WAAnB,EAArB,EAAP;AOKgC,AHmBhC,ALbE,AMfI,AF0BF8F,AGnBJ,ANFD,IGqBKA,CIjBW,CAAb,IJiBQ,CJXD,CMfC1G,AF0BE,CCEDuI,ELbT,CIWc,CE1BD,CAAChJ,CAAD,CAAL,CD4BV,CErBU,CAAV,CFqBsB,CC5BC,ACOVY,CDPP,EAAoB,GCO1B,EAAqB+L,SAAS,CAAC1O,IAA/B;ACGE,AHmBA,ALbD,AMfO,AFsBN,AGfF,GHrBmB,EAyCjB,KIlBMG,CHmBC4K,EGnBE,GAAG3K,GAAG,CAACC,EDFR,CAAV,EAAasC,GFqBX,GErBF,EAAqB+L,ECEP,CAAoBxO,IAApB,CAAZ,CDF4B,CAACF,IAA/B,EAvCgE,CAyChE;ACCE,AHmBD,AC5BOuN,AF2BJ9O,AHtBN,IGsBMA,CAAC,EAAE,CAAC,CADN,CIjBM4J,AFTAkF,GESG,EPJElK,COIC,EFTE,ELKlB,CKLqBkK,ALKAjK,COIC,CPJtB,EAAyB,IKLI,GAAG,CAAtB,UESmB;AAAEnD,ARO7BgB,AMfO,AF2BHzC,AGnBJ,ANHA,EDUAyC,EIYIzC,CJZD,AIYE,CInBwByB,AROzBiB,CIYG,CAFL,OJVC,EAAY,SOPDuB,MAAd,EAAsB0E,OAAtB;ACA2B,AHqB3B4D,ALbE,AMfG,AF2BD/B,AHtBJ,EIuBA+B,EDDI/B,CIpBgB,CAAlB,APFE,CAAC5F,CIuBC,CAACxE,AJvBP,CDUQU,AIYE,CHtBD,CGsBG,CJZD,EKaL,CLbQ,AIYE,CCCDhB,ILbIgB,CKab,EAAgB0L,ALbpB,QKa4B,GAAG,EAA3B,EAA+B;AGpBnC/N,AHqBA,ALbAqC,AIQA,AGfF,ANHA,GGvBmB,CIyBjBrC,ARQAqC,CIaA,CGpBEyO,CPOC,CKaClM,ALbAV,CKaJ,AEpBF,ANHO,EOEE,AHqBA8J,AEpBA,CCDC/N,AHqBR,CJvBSmG,CIuBC6H,CGrBV,CAAY/C,CHqBZ,EGrBA,AHqBe5J,CAAf,ALbA,ACVK,CDUY2C,ACVAoC,CIuBC9E,CAAlB,KJvBwB,EDUxB,EAA4B,ACVA+E,CDU5B,EAA+B,CAA/B,MCVsC,CAAC,MAAMD,OAAO,EAAd,EAAkBF,EAAlB,CAAjC,CAAP;AOGE,AHqBA,ALbD,AMfG,AF4BA7E,AGpBF,ANHH,IGuBKA,CAAC,EAAE,CADL,ECCM+J,AC5BA+E,CCQC,MFoBM,CC5BC,ED4BE,CC5BC,CD4BC,CC5BhB,ED4BmB,AC5BA,EEORlF,GAAb,AHqB0BG,EGrBR0G,KHqBF,IGrBW,CAAC3H,QAAD,EAAWc,GAAX,CAA3B;AACAjI,AHoBmC,AC3B/B,AF4BF1B,AGpBAiE,ICDFvC,AJqBE1B,CAAC,CGpBDiE,CCDC,AJqBE,CIrBDmF,AJmBJ,CCCsCoD,GEpB/B,WCAP,CAAoB/K,GAApB;AACD,AHmBiB,ALXlBmB,AMfM,AF4BF4H,AGpBA7B,ANHN,EDUE/F,EIaI4H,CCFF,CElBE7B,CPOC,CAAC5I,CAAD,CIaK,CJbDC,CAAJ,AIaO,CE5BD,ACMF,CPSG,CCVCyC,CGuBG,CE5BDY,CAAC,ALKlB,CAAmBvC,EKLE,CAAb,ALKR,EKLwBuC,ALKAX,CKLC,GAAG,IAAI,CAAJ,ALK5B,EAAmC3C,CKLC,ALKpC,CKLQ,CLK8BC,CKLCqD,ALKvC,CKLwC,CLKC,GKLG,CAApC,EAAuC;AEQ9C,AHoBG,ALZA,AMfM,AFwBN,AGhBE2M,ANHJlP,EAAAA,CG3BmB,EAmDjB,AHxBC,CMGCkP,ANHArN,IIsBIgK,ALZA9J,CKYC,ELZE,CKYC,CEtBH,CFsBP,ALZa,AMfDiM,CAAC,CLKf,CDUiB/O,ACVA2C,CDUE,AMfDoB,INeI9D,CAAE,AMfD,CAACqD,CNetB,AMfqB,CAAL,ALKlB,EAA4BtD,CAA5B,EKL+B,ALKAC,CKLb,ALKlB,GKLmC,GAAjB,GAAuB,CAAjC;ANgBN,AMfM8D,AF6BJ/D,AGrBAmQ,ANHJ,IGwBInQ,CAAC,CGrBDmQ,CHqBG,CJdDrN,AIaJ,AHvBI8B,EKLEb,CNeC,ECVE,CAAC,CKLC,ALKF,CDUG,AMfAT,ALKd,CKLa,CAAL,ACQQ,EAAEvC,CPOCmB,AMfA6B,ECQE,CAACzC,EPOpB,AMfsB,CAACgC,CNeC,AMfA,GAAG,CAAL,CAAL,GAAeS,ACQhB,CAAiB,CAAjB,EAAoB,CDRC,ACQrB,CDRsBT,CAAC,ACQAhB,CAAvB,EDR0B,ACQAC,CDRL,ACQrB,CDRgB,GAAewM,CAAzC;AEQV,AHmBI,ALXA,AMfK,AF6BH9O,AG1BK,ANEV,IGwBKA,CAAC,AG1BH,EH0BK,CAFL,CCAEqD,ALZGpB,CKYF,GAAGwK,CAAC,ALZP,GKYU,ALZG5J,CQRZxC,AHoBC,EAAWqM,ALZb,GKYgB,GGpBP,AHoBUtM,CGpBTE,IAAd,CHoB6B,CGpBTqS,AHoBUzM,MAD1B,EAEE,GGrBN,EHqBWwG,GAAL,GAAWD,CAAC,IAAIC,GAAhB,GAAsBD,CAAC,IAAIC,GAF7B,EAGErJ,CAAC,GAAG,KAAKqJ,GAAL,GAAW,EAAED,CAAb,GAAiB,EAAEA,CAHzB,EAIE;AGrBN,AHsBME,ALfF,AMfG,AF6BDnC,AGrBH,IHqBGA,ECCAmC,CAAC,CAAClH,ALfA,CAAC,CQPP,AJqBU,ECCN,ADDQ,CCCDrF,CLfC4B,EIcI,CIrBlB,EAAW4H,AHsBQ,CAACvG,CGtBpB,AHsBmB,CGtBL,AHsBR,CLfF,EAAqB,KQPzB,ARO8BnB,EQPNjD,KAAK,IAAI,AROR;AQNvB,AHsBG,ALfD,AMfC,AFyBD,AHpBJ,GG/BqB,EAwDjB,GItBIoQ,EROE3M,EQPE,GAAGzD,APHA+F,IDUI,ACVnB,COGoB,APHAlE,COGC3B,CROC,CCVtB,EAAyB8F,CDUClD,CQPX,CAAalD,EPH5B,EAAgCyC,COGjB,CAAmB,CAAnB,AROO,CQPpB,AROkC,ACVpC,EAAsC,GDUGwB,KAAL,CAAW/C,CAAX,EAAcC,CAAd,CAAd,EAAgC,CAAhC,EAAmC,CAAnC,CAAlB;AQNF,AROE,AMfD,AF8BGD,AGtBJ,ANHA,IGyBIA,CAAC,EAAE,CItBDjB,AJqBJ,AHxBI4D,CDUC5B,AOPAmD,GPOL,CAAStB,CQPC,CDAZ,CArDgE,CCqDjD,ADAA,ANHA,GAAG,COGC5D,GPHGoE,CDUpB,CAAsBT,KQPT,EAAf,EROE,EAAiC,CAAjC,EAAoC,CAApC,ACVgB,CAAsB,IAAI,CAA1B,CAAlB;AIyBE,ADCE1C,AGtBL,ANHC,IGyBIA,CAAC,CHzBDkF,CGyBG,CAFL,CHvBK,CIwBCrE,EJxBE,CAAV,GIwBc,GAAGT,MAAM,CAAC8F,MAAP,IAAiB4D,OAAO,CAACkC,QAAR,GAAmBlM,KAApC,CAAf;AGrBFhB,AHsBE,ALdA,AMhBF,AF+BI0L,EIvBJ1L,EJuBI0L,IIvBE,ARQA,CQRCxL,AFRA0D,CD8BCtD,ADCE,EAAE,CJfDgC,EQRX,CHsBc,ADCE,EIvBAnC,AFRhB,CD8BiB,EAAf,CLdA,CQRmB,CRQC,GQPpB0T,WAAW,CAAC,IAAIzT,UAAJ,CAAeD,KAAK,CAACE,MAAN,CAAaC,MAA5B,CAAD,EAAsCiQ,IAAI,CAACuD,IAA3C,EAAiDvD,IAAI,CAAC9J,IAAtD,CADb;AHuBEvF,ALdE,AMhBL,AF2BG,AGlBJ,ANJE,GGlCmB,CC2DjBA,ADzFW,CCyFV,EJzBE,CIyBC,CAAJ,EJzBOyD,CDWC3C,GAAG,AOPAqP,ENJE,CDWC,ECXE,CAAlB,EDWqB/O,ACXAqC,KMIvB,CAA6BQ,ANJA,GDWvB,ACX0B,CAA9B,EMIF,ANJmCR,EMIE,INJI,EAAvC,EAA2C;AOI3C3E,ARQIgC,AIgBJ6J,AGvBA,ANJE,EOGF7L,AJwBA6L,IJhBI7J,EQRE,AJwBA,AGvBAA,CCDCzB,ARQA,ACXA,CDWCyC,AIgBA,CACN,AGxBO,ENJEqD,CMIC9E,GNJG,EDWX,CAAc,ACXA,CDWd,ACXF,CMIkB,CPOC,AOPAM,ANJAwE,CDWjB,EQRJ,ARQwBrE,CQRCuO,APHA,EDWE,CAAC3O,ACXA,COG5B,APHE,EAA6ByE,GDWP,AOPZ,CPOuBrF,AOPA,ANJA,EAAjC,EAAqC,CDWnC,EAAsCgB,COP9B,EPOiC,AOPAC,CPOCL,MAAJ,CAAWG,EOPzC,CAA4C,GPOpD,COPQ,CAAZ;ACAD,AHqBG,ALbEC,AMhBN,AFiCMf,AGxBJ,ANJI,COHN,GJ+BMA,CAAC,CJjBDe,CIiBG,CADL,AGvBIJ,CPOC,AMhBAqO,CNgBChM,CKaC/C,AJxBA,CIwBC,CC7BZ,CACEkD,ACQY,CFoBCrC,AJxBAwC,CAAC,CMICvC,ENJE,CKJX,ACQY,ANJd,CIwBF,ALbE,AOPeJ,CNJC2C,CIwBC,AC5BZ,ALIY,CDWC,ECXE,CMIxB,CNJI,EAAwBA,CDWxB,ACXyB,EAAzB,EAA6B;AIyB7BtD,ALbAe,AMhBOhB,AFiCPE,AGxBJU,ANJM,EKLKZ,ACSXY,EHwBIV,CAAC,CCJDD,ALbAe,CKaC,AC7BW,AFiCT,CAFL,AGtBI,CPOC,AMhBW,ACSXhB,CFoBC,ALbAkD,AMhBC,CD6BL,CJxBMM,CAAC,CMIX,ENJc,CMIC,ANJT,GDWF,AOPJ,CPOmBvD,CAAC,GAAG,CAAJ,GAAQ,GAAvB,EAA4BC,CAAC,GAAG,CAAJ,GAAQ,GAApC,EAAyC,CAAzC,EAA4C,CAA5C;AACAc,AMjBiBD,AFkCjB2J,AGxBJ9J,ANJM,EKNeG,ACUrBH,EHwBI8J,EJjBA1J,EMjBuB,ACUrB,CPOC,AOPAD,CPOCkC,AMjBqB,AFkCnB,EAAE,EH5BAsB,CMIZ,CHwBgB,CH5BD,CMIC,ENJEa,CDWd,AOPJ,ENJqB,CDWC,CCXhB,MDWF;AKaA,ALZApE,AMlBK,AF+BP,AGnBFA,ANLM,CKRR,CCaEA,CDXAkO,AF6BQ,EAMN,AGxBC,CPMClO,AONA6B,GPMG,CAACK,GKYGjD,CAAC,AC7BD,ALMCuE,GIuBGxE,AC7BD,CCWd,ANLgB,CMKCmE,CPMb,CAAelE,ACXAuB,CIuBf,ALZgB,EKYE,CLZC,AONvB,ANLuB,CDWJ,ACXK+C,CMKC,CAAzB,CPM2B,ACXJ,CMKK,ANLtB,CMKN,ANRiC,CDc7B,ACTE,EDS0BrE,CAAC,GAAG,CAAJ,GAAQ,GAApC,EAAyC,CAAzC,EAA4C,CAA5C;AKaE,ALZH,AMlBaF,AFoCZC,AGvBJ,EDbgBD,EFoCZC,CAAC,EEpCgB,AFoCd,CADL,AGtBI0B,CDbiB,CAAT,CCaL,EFiBEmL,CEjBClM,MAAM,CAAC0P,GFiBb,CAAiBrQ,CAAjB,EAAoBC,CAApB,CEjBM,CFiBiB2M,AEjBA,CFiBvB,EAA0BvN,MAA1B,EAAkCU,AEjB5B,CAAZ,IFiBM,EAAyCgK,OAAzC;AACA/J,ALZL,AMnByBc,AFqCtBb,AGvBJ,ANLM,EKToBa,EFqCtBb,CAAC,EAAE,CCNDD,AC/B0B,AFmC9B,AGrBIU,CFiBC,CC/B2B,CCczB,EFiBEqJ,CEjBC,CNLCxG,CAAC,EMKEmM,CNLC,CIsBC,AJtBZ,CIsBa1D,CJtBCzI,CMKR,ANLS,EIsBf,AEjBN,ANLM,EAAmB;AIuBpB,AChCS,AFsCVkH,AGvBJ/J,ANLQ,CKZV,CCiBEA,CDdA,CFqCI+J,CGvBD,CAACmF,GAAJ,CHuBU,EAAE,AGvBFlO,GAAV,CHuBgB;AJjBhBqB,AMnBA,AFiCE,AGnBF,ANLQ,EDURA,CIQQ,EAWN,EJnBG,CAAC/C,CAAC,AOLA,GPKG,CAAL,AOLM8E,EPKE7E,CAAC,ACVAoF,GDUG,ACVA,CDUZ,AOLE,CAAYN,CPKC,ACVA,CAACR,IAAI,CMKC,ENLG,EMKE7D,GAAG,ANLC,CMKAzB,GNLIsE,CAAnB,EMKW,GAAa,CNLI,CAA5B,GAAgC,CMKFwB,ANL9B,GAAoC,GAAhD,CMKiD,CAACrE,GAAD,CAAlD,CAAP;AFiBIT,ALXF,AMnBF,AFsCID,AGxBL,ANJS,IG4BJA,CAAC,CCRDC,AC9BAD,CD8BC,AC9BA,AFsCE,CAAC,CADN,CJlBMkD,AMnBA,CD8BC6G,AC9BT,KLUcrG,EIoBE,CAACsI,ELXE,CCTC,CIoBhB,CLXkB,CCTCzI,CAAC,CDStB,ECTyB,CAAnB;AIqBL,ALXD,AMnBF,AFsCItD,AH5BI0C,IG4BJ1C,CAAC,CEtCDA,CAAC,AFsCE,CAFL,EJjBMF,AMnBA,ALUA4C,CKVR,CAHA,CAKA,ENiBa,GAAG,CAAd,ACTe,CAACe,MAAM,GAAG,CAAV,CAAT,GAAwB2B,GAAxB;ADUN,AImBEoF,AGxBS,ANJL9H,IG4BJ8H,MJnBI3J,AImBE,AH5BF6B,EG4BI,GGxBgB2D,CPKd,AImBE,GJnBC,AOLJ,ANJI,CDSf,AOJF5E,ANLkBgC,GMKf,GAAI,ANLiB,GAAG,CAAV,CAAT,GAAwB2B,GAAxB,mBMK4BiL,MAAM,CAAC,2BAAD,CAA8B,EAD3D,EAEb;AFcE,ALVA,AMlBF,AFiCE,AGlBF,ANNQ3N,GGaA,EAgBN,CEtCEuM,INkBI/L,ACTAR,CImBCtD,EC5BE,GNkBG,AMlBA,CD4BZ,ELVe,ACTA,CAACqE,GKTlB,CNkBsBrD,ECTE,GAAG,CDSzB,ACTe,CAAT,GAAwBgF,GAAxB;AIoBP,ALTC,AMnBF,AFsCIrF,AGvBJ,ANNQ2C,IG6BJ3C,CAAC,CEtCDmP,CFsCG,CAAC,CADN,CJlBM5N,ACVAoB,IDUI,AMnBA,GNmBG,AMnBA,ELSE,CAACe,CDUCN,IMnBnB,CLSwB,GAAG,CAAV,CAAT,GAAwB,GAAxB,CDUO,AClBU,CDkBYrD,ACVA,KDUK,GAAGe,MAAR,GAAiB,CAAvC,CAAb;AAEA,AIkBEb,AGtBJ,ANPO,IG6BHA,CAAC,EAAE,CAFL,EJhBMoD,KAAK,GAAG,KAAd,CARkB,CAQG;AKSvByJ,AC7BA,AFuCIrC,AGtBJ,EFYAqC,EDUIrC,EEvCAwE,ECiBE,EHsBI,EAAE,ICVE,ADUE,CCVDjP,AC7BA,CD6BD,AC7BED,ED6BEE,CAAJ,EAAOF,AC7BjB,GAAoBkP,ED6BV,EAAchD,OC7BO,CD6BrB,AC7BsBnL,ED6BE,IC7BtC,EAA4C;AD8B1C,ALRA,AMrBA,AFmCA,AGnBMoD,ANPF,GGUE,CGHAA,CDhBLgL,AFwCD,IJnBK,COLD,CFaGjD,CC7BP,CNqBS3I,CAAC,AMrBA6L,ALSAnP,CAAC,EDYE,CAAb,ACZcsD,CIoBC,AJpBA,CDYCA,CAAC,CKQCtD,AC7BlB,ALSkB,CIoBX,AJpBH,CDYgBc,EKQEmL,AC7BA,CAACkD,GNqBvB,EAA4B7L,CAAC,CKQC,CLR9B,AMrBsB,ED6BWrD,ALRA,AMrBAiP,CD6BX,GAAenP,GC7Bf,CAAtB,CD6BA;AACD,ALRG,AMrBH,AFwCGC,AGzBY4I,ANNV,GKnBN,CAYA,AFsCI5I,AGzBY4I,CHyBX,EAAE,CADL,GGxBI,CPMIrF,CAAC,CCZCtD,CAAC,CDYCH,ECZGiB,GAAG,CAACJ,MAAJ,CDYU,ACZCG,CDYAoC,KCZX,GAAoB,CAArB,EDYW,CCZegC,CDYDlF,CAAC,GAAG,ACZ7B,CDYW,EAAqBC,ACZEmF,CDYD,GAAG,ACZE,CDYN,ECZS,CDYD9B,ACZxC,CDYW,CAAvB,CCZyDI,MAAvD;ADaF,AImBAzD,AG1BqBgQ,ANLnB,IG+BFhQ,AG1BqBgQ,CH0BpB,EAAE,CAFL,IJjBQzM,COPJ,CNLMd,GDYG,ACZA,CAAC3B,EDYEwC,CAAC,ACZJ,EAAM,CDYC,CAAlB,ECZqBvB,SAAJ,CAAcW,SAAd,EAAyB,CAAzB,EAA4B,CAA5B,CAAN,EAAsC3C,CAAtC,EAAyCC,CAAzC,CAAT;AIqBN4M,ALRI,AImBApC,AG3BgC0F,ANJ/B,EIoBLtD,EDWIpC,AG3BgC0F,MH2B1B,EJnBA1M,AImBE,CCXD,CAACzD,CAAD,ALRE,CImBG,CCXDC,CAAJ,ALRKuD,EKQEoJ,CAAP,EAAUvN,ALRA,GAAGU,GKQb,EAAkBA,ALRA,GAAG,CAA5B,CKQO,EAAyBgK,OAAzB,EAAkC;AAC3C,ALRE,AMrBJ,AFoCE,AGxBI,ANHH,GGMK,EA0BN,CG7BmD,EFiB/CgD,AC7BAH,CAAC,GNqBGlJ,AMrBAP,ACYiDqJ,MPS3C,AMrBA,ACYiD,CDZhD0C,CD6Bf,AEhBA,CPQiB5L,CKQCA,ALRA,CKQlB,EAAqBC,ALRAxD,CKQrB,AC7Bc,CAAN,CD6BgB2M,CAAxB,CLRiB,AMrBSuC,CD6BCjC,CAA3B,CLR6B,CKQCC,ALR5B,OMrBmC,CD6BrC,AC7BsCiC,ED6BEhC,CAAxC,EAA2CP,EC7BN,CD6BrC,AC7BF,CAbA,CD0CkDQ,AC7BA,ID6BhD;AACA7J,ADYEtD,AG5BF0B,ANJD,EMICA,EFgBA4B,ADYEtD,CCZD,ADYE,AG9B4D,EH8B1D,AG3BL,CFeI,ADWJ,GG7B+D,CAAjE,CFkBW8M,cAAL,CAAoB9M,CAApB,EAAuBC,CAAvB,EAA0BF,KAA1B,EAAiCgK,OAAO,CAACkC,QAAzC,CAAJ;AACAc,ALTE,AMpBJ,AFyCI9M,AGzBJ,ANPD,EAED,EIkBI8M,ADYE9M,CAAC,EAAE,CEzCDF,AFuCJ,AGvBIwQ,EPIElN,GMpBG,ENoBP,AOJS,CFaC,AC7BC4L,CNoBA,COJC,CFaC,EAAf,CEbkB9F,IAAJ,CDhBU,ACgBD,CDhBEpJ,ACgBDmE,KDhBX,CCgBU,CAAT,CDhBmB0I,CAArB,ACgBqB,GDhBK,CAAxC;ANqBMlO,AMpBN,AFyCI+L,AGzBF,IHyBEA,IJrBE/L,AMpBAoC,EFyCI,EAAE,EEzCA,CNoBC,CAACnC,AIqBE,CEzCAsQ,ENoBV,CACE,AOLU,QDhBS,CAACnO,MAAZ,GAAqB8L,CAAtB,GAA2B,CAA1C,INoBM,EAEErJ,CAFF,EAGEC,KAHF,EAIEC,GAJF,EAKEzD,CAAC,GAAG,CALN,EAMEsD,CANF,EAOEH,MAAM,CAACQ,QAAP,CAAgBH,KAAhB,EAAuBC,GAAvB,CAPF;AKSJ,ALAG,AISH,AGvBiC,GHH3B,AGGQ,CAAhB,CH4BE,ICbEF,CAAC,GAAGmJ,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAG5C,OAAO,CAACkC,QAD3B,EAEE,KAAKU,GAAL,GAAWD,CAAC,GAAGC,GAAf,GAAqBD,CAAC,GAAGC,GAF3B,EAGEpJ,CAAC,GAAG,KAAKoJ,GAAL,GAAW,EAAED,CAAb,GAAiB,EAAEA,CAHzB,EAIE;AACAK,AChCJ,AF0CI/M,AG1BJ,ANPK,IGiCDA,CAAC,CCVD+M,AChCAmC,CF0CG,CADL,AGzBIsB,KDhBK,CCgBC,CNPQlL,EMOL3D,CFgBC,AChCA,CDgCC+D,CEhBC,CAAC9D,ANPd,CAAsBb,CIuBvB,CAAkB6L,CAAC,AJvBlB,CIuBmBtJ,AChCxB,CDgCyB,AJvBOiB,CKTN,EDgCEhB,CAAL,AJvBlB,CIuBD,CJvBkCC,GMOvB,CAAoB+M,CNP9B,EAAwC,IMO9B,CAAf;AFiBG,ALLChP,AM3BFvB,AF0CEC,AGzBJ,ANRA,IKTED,AF0CEC,CE1CD,AF0CE,CJfDsB,CIeG,CE1CD,AFwCJ,AGvBIkP,ANRAvL,CKTC/B,CN2BC,CAAC1D,EClBE,CDkBP,CAAS0D,AM3BA,CAACgM,ALSA3L,CMQC,GAAGlD,CPUC,AClBA,CDkBCsD,EM3BP,CAAN,ALSgB,EDkBV,AClBb,CDkB0BJ,AM3BAzD,ACiBA,ANTmB,CMSlBa,ANRA,IDkBd,AM3BP,EN2B2B6C,EM3BE,CN2BtB,AM3BX,CN2BE,EAAmCC,COVrB,CAAuB,IPUrC,COVc,CAAlB;APWG,AM3BF,AF0CG+G,AGzBJnK,EAAAA,CDnBA,CF4CImK,KE1CG,CF0CG,AGzBF,CAAClK,CHyBG,GGzBZ,CHyBgB,AGzBFM,WAAd,CAA0B4P,SAA1B;AFeExD,AC/BAhN,AFsCA,AGpBF,ANTA,GGFQ,CCwBNgN,AC/BAhN,CAAC,AF2CD,CHlCEiF,EKTE,ACkBAwL,CDlBCvN,ELSE,CIsBC,EEbE,CFaC4G,AC/BA,CAACoF,ALSA,CMSC7O,ANTf,EAAiB,GIsBG,CAAC8L,CC/BR,CAAN,ACkBgB,CAACxL,EDlBEE,ID+Bb,CAAkBiM,CC/BzB,IAA8B,CAAlC,ACkBa,CAAuB,KFazB,CAAX,EEba,EAAiC/L,UAAjC,CAA4C,IAA5C,CAAf;AFcEkM,ALJA,AM3BD,AF2CGlN,AGzBJ0Q,ANTE,EMSFA,EFaExD,ADYElN,CCZD,ADYE,EAAE,CCZD,ADYE,AGzBF,CHwBJ,AGxBKW,CFaL,CLJOY,IAAP,AOTF,CAAcxB,KAAd,GAAsB,GAAtB;APUC,AIgBGE,AGzBJyQ,ANTE,EMSFA,EHyBIzQ,CAAC,EAAE,CAFL,AGvBI,CAACU,CNTC4E,KMSR,CAAczE,CNTC,GAAGuD,EMSlB,GAAuB,GAAvB,MNTgC,CAACE,IAAD,CAA9B;AIsBA,AC9BF,AF2CIkG,AGzBJgG,ANTE,EMSFA,EHyBIhG,KCZAlH,AC/BG,CD+BF,ADYK,AHlCFvD,CMSC,ANTA,CGkCG,AGzBFa,CFaFmM,CAAC,AJtBIxJ,EGkCG,CCZJ,CAAR,CJtBc,CIsBH2J,EJtBM,CMSrB,CFamB,AEbGuD,ANTV,GIsBU3G,AJtBK,CAAzB,EMS0B,CAACpJ,GFaA,CAACsL,EEb9B,EAtBA,CAuBA,GFWE,EAEE,KAAKkB,IAAL,GAAYH,CAAC,GAAGG,IAAhB,GAAuBH,CAAC,GAAGG,IAF7B,EAGE5J,CAAC,GAAG,KAAK4J,IAAL,GAAY,EAAEH,CAAd,GAAkB,EAAEA,CAH1B,EAIE;AACAE,ALrHoB,AMkFflN,AFwCP,AH9BA,GGNM,CEJCA,CAAF,AF6CL,CCVEkN,CAAC,CAAC3J,CAAD,CAAD,AJzBItD,CAAC,EIyBE,CAAC2M,AJzBC,CIyBA,AJzBCpJ,CIyBAF,CAAC,GAAGC,AJzBC,CIyBN,CAAD,EJzBW,CIyBA0J,AJzBV,IAAe,EAAhB,EIyBmB,CAAC1J,AJzBE,CIyBH,AJzB7B,CIyBS,IAA2BwG,OAAO,CAACmC,eAA1C;AACD,ACpCSjM,AF8CRD,AG1BJ,ANRE,IKZUC,AF8CRD,CE9CG,AF8CF,EAAE,CAAC,CADN,CHjCM+D,KAAK,GAAGhD,GAAG,CAACO,GMQP4C,MAAb,EAAqBwM,CNRL,CAAiB1Q,CAAjB,EAAoBC,CMQpC,ANRgB,EAAuB,CAAvB,EAA0B,CAA1B,CAAd;AKZaF,AF+CXE,AGzBJ,IDtBeF,AF+CXE,CAAC,EAAE,CAFL,AGvBI0Q,CDtBC,CCsBC,GAAGrQ,QAAQ,CAACM,aAAT,CAAuB,IAAvB,CAAX;AFeE,ACrCoBE,AFgDlB2J,AGzBJkG,ANVE,EMUFA,EDvBsB7P,AFgDlB2J,AGzBF,CAACzD,IFcIoG,AJxBA,CGmCG,EAAE,CHnCD9J,CMUX,ANVY,EGmCI,CGzBA,ANVD,CAAb,EAAgBA,CIwBhB,AJxBiB,CIwBCsJ,CAAlB,CJxBoB,CIwBCM,CAArB,EAAwBlN,AJxBA,CIwBxB,AJxBA,EIwB2BC,AJxBAqD,CIwB3B,AJxB4B,CMUCkN,CFcCzQ,AJxB9B,EAAgC,GIwBhC,AEdoC,EFcCgK,OAArC,2CEdF;AFeE,ACtCK,AF6CL,AGpBF,ANXI,GKdJ,AFIQ,EA8CN,GGzBI6G,EAAE,CFaC,CJxBCpL,CMWClF,GFaG+M,AJxBA,GAAGtJ,EMWE,CAACnD,ENXE,CAACW,IIwBd,AJxBQ,CIwBWlC,AJxBAiE,CAAC,GAAG,CMWrB,ANXM,CIwBR,AEbyB,EFaEvD,EEbzB,CAAX,ANXuC,EIwB9B,CJxBQ,CIwB0BkN,EJxBE,KAA5B,CIwBR,EAA4C3J,AJxBA,CIwB5C,EAA+CyG,IJxBpD,GIwBK,CAAP;AACD,ACtCF,AFkDK/J,AGzBJ2Q,ANXI5M,EMWJ4M,EHyBI3Q,AGzBF,CHyBG,AGzBFa,CNXCkD,CGoCG,CADL,GHnCO,CAACxC,IMWV,ANXI,CMWWqP,ANXAnR,EMWf,CNXI,CAAe8F,OAAO,CAACC,IAAD,CAAtB,EAA8BlC,CAAC,GAAG,CAAlC;AGqCArD,AGzBJ,ANXG,IGoCCA,CAAC,EAAE,CAFL,AGvBI4Q,SAAS,GAAGvQ,QAAQ,CAACM,aAAT,CAAuB,IAAvB,CAAlB;AFcAwM,ACtCK,AFkDD3C,AGzBJkG,EFaAvD,AEbAuD,EHyBIlG,AGzBF,CAAC5J,IDzBWuO,CFkDJ,EAAE,ECZA,CAACxC,CAAD,ADYI,AGzBhB,CAAeiE,CFaC3D,CAAJ,EAAOlN,CAAP,ACtCP,CACLU,CDqCsBT,CAAV,CCtCP,ACyBL,CFayBF,CCpCzBsC,IDoCY,CCpCP,CDoC2B0H,ECpCxB,KDoCI,EAA6B;AACvC,ACrCQhK,AF6CR,AGrBFO,ANXE,EKbQP,ACwBVO,CHzBQ,EAmDN,EElDa,CDqCTgN,AJxBA/H,CKbW7E,CCwBT,CAACH,CDxBW,CAACR,ECwBrB,ANXa,CMWCc,ANXA4E,EKbN,GDqCN,AJxBI,EIwBe8H,EJxBEhI,EMWvB,CFaE,AEbwBoL,EFaEnN,AEb5B,EAjCA,ANsB8B,CMa9B,ANb+BW,EIwB7B,CJxBqB,CIwBYuI,CAAjC,EAAoCM,CAApC,AJxBqCzH,EIwBEiI,GAAvC,EAA4Cb,AJxBA,CAACvI,EIwB7C,EAAiD+I,CJxBjD,EAAoD,CIwBpD,EAAuDM,OAAvD;AACAd,ACtC0B7L,AFmDxBd,AHrCA6D,EKdwB/C,EDsC1B6L,ADaE3M,CAAC,CHrCD6D,CIwBC,ADaE,CEnD2B,AFkDhC,ECZMkG,ACtC4BrJ,GAAG,ALc5B,CKd6BI,ALc5B4E,GIwBG,CAAC2G,AJxBZ,CAAa,KIwBf;AACAoB,ACvCM,AFoDJxN,AGzBJ,ANZM+D,CKjBD,EAGL,CDsCEyJ,ADaExN,CAAC,EAAE,CAFL,AGvBI6Q,ANZA9M,GIwBG,CEZC,EFYE,CEZC,CFYX,CJxBa,EAAEO,EMYE6L,ENbF,WMae,CAACD,YAAD,CAAhC;ADzBA,AFmDI1F,AGzBJgG,ANZMzQ,EMYNyQ,EHyBIhG,IEnDE9J,ALcAX,CAAC,CGqCG,CGzBD,ANZAA,CGqCG,AGzBFa,ANZA,EKdE,CLcC,CGqCG,AHvCC,CKZFP,MC0Bf,CAAsBwQ,CD1BC,CAAClQ,EC0BxB,WD1Be,CAAuB,QAAvB,CAAf;ADsCE,ACrCFD,AF+CE,AGrBF,ANZMV,EKdNU,CFJQ,EAwDN,GEpDI,AC0BAoQ,ANZA9Q,CIuBCyM,ACrCA7K,ALcA,CIuBC,CJvBC5B,CAAC,CIuBC,CAAJ,ACrCP,AC0BY,CD1BCuC,ALcA,CIuBCgL,CEXC,EFWE,GAAGb,CEXCyD,EFWE,CAACjK,GCrCxB,GDqCE,ACrC4B,EDqCEuG,CAAC,CEXC,CAAC9D,CFWC4E,GAAlC,EAAuCd,ACrCzC,CDqC0C,AEXR,CAAlC,CFWE,EAA4C;AAC1Ca,ACrCJ,AFoDIvN,AG1BJyQ,ANhBiB,EMgBjBA,EH0BIzQ,CAAC,CCfDuN,CDeG,AH1CH,CKVExM,AFmDJ,GCdO,ACrCA,AC0BA,CAACF,EFWE8L,ACrCAhM,GDqCG,CAAC+L,CAAD,CAAX,ACrCc,CAAC1L,EC0BnB,CAAsB+P,MAAtB,CD1BY,CAAkB,IAAlB,CAAZ;ADsCIvN,ACrCJ7C,AFoDIV,AG1BJ,ANZG,EKdHU,EFoDIV,CAAC,CCfDuD,CDeG,CEpDD,AFkDJ,AGxBIwN,CD1BCjR,EDqCE,GAAG,ACrCZ,EC0Bc,CD1BCsC,EDqCEyK,AEXA,GD1BG,CAAC/M,EC0BEqQ,GD1BvB,KDqCY,CACNpQ,CAAC,GAAG+J,AEZ0B,CAACkG,MFYpB,CAACjE,EEZkB,CAApC,CFYU,GAAeuB,KAAK,CAACvN,CADnB,EAENC,CAAC,GAAG8J,OAAO,CAACiC,IAAR,GAAeuB,KAAK,CAACtN,CAFnB,EAGNF,KAHM,EAINgK,OAAO,CAACkC,QAJF,CAAR;ACpCJtL,AFoDI8J,AG1BJgG,ED1BA9P,AC0BA8P,EH0BIhG,IEpDE,CAAC3J,CFoDG,CG1BD,CH0BG,AG1BFD,GD1BV,CFoDgB,EEpDAwB,KAAK,AC0BrB,CD1BsBvB,AC0BAkQ,MD1BtB,EC0BA;AFgBI,ACxCJ,AF+CE,AGrBF,ANbE,GGtBM,CA5FK,IEqGP,AC0BAC,ENbEvO,CI4BF4K,EJ5BK,CAACvM,GAAD,EAAMgD,CMaC,GAAG,CFeF,AJ5BR,EAAa/D,CI4BFgN,AEfG7M,ANbd,CI4BY,CJ5BIF,CAAhB,CI4Be,AJ5BxB,CI4BI,EAAuBkN,IAAI,EEfZ,CFeepD,AEfN+G,IAAT,CAArB,EFe2C,CAAC7E,QADxC,EAEE,KAAKkB,IAAL,GAAYH,CAAC,GAAGG,IAAhB,GAAuBH,CAAC,GAAGG,IAF7B,EAGEG,aAAa,GAAG,KAAKH,IAAL,GAAY,EAAEH,CAAd,GAAkB,EAAEA,CAHtC,EAIE;AACAJ,AC7CE5M,AFqDR6K,AG1BA,ANZE,EGsCFA,EErDQ7K,CAAF,GD6CA4M,AElBAsE,CFkBC,CAAC1N,ADQA,EAAE,CACR,ECTW,EElBE,CFkBC8J,EElBE,IAAInN,OFkBf,CAAD,IAA4BoN,CElBhB,CAASyD,GFkBY,CAACvG,IElBtB,CAAlB,CFkBkC,GAAeyC,CAAC,CAACI,aAAD,CAA5C;AACD,AC9CMrN,AFuDPD,AG3BJ,ANZC,IKhBUC,AFuDPD,CEvDE,AFuDD,EAAE,CADL,AG1BImR,OAAO,GAAG,IAAIhR,aAAJ,CAAS4Q,MAAT,CAAhB;AD5BcjQ,AFwDVb,AG3BJ,ID7Bca,AFwDVb,CAAC,EAAE,CAFL,AGzBImR,ED7BA,QC6BU,GAAG,IAAIjR,aAAJ,CAASuQ,MAAT,CAAnB;AFkBIjD,AC/CkB1N,AFyDlB0K,AG1BJ,ANbA,IKlBsB1K,AFyDlB0K,ECVAgD,EEhBE4D,ANbA1O,EGuCI,EAAE,CCVD,CAAC+C,EDUI,CHvCD,CI6BX,AEhBY,CFgBCqE,CJ7BC,CMaCzJ,GNbG8C,EI6BE,CAAC+I,EEhBE,CAACmF,CFgBX,CAAa1E,CAAb,EAAgBpJ,KAAhB,CAAb,AJ7Bc,CAAsB,CMarB,CAAuB,ENbE,CAA1B,CAAlB,CA5B6C,CA4BG,EMa7B,CAAnB;AFiBG,AChDG,AFsDJ,AGtBF6N,EAAAA,CHqBU,EAMR,CE3D8BrC,IAAI,CAACtO,CCgC3B,CAAC6Q,CDhCyB,EAAM5Q,MAAN,ACgCpC,CDhCA,ACgCqB6Q,GAArB,CAAyB,WAAzB;AD9BAzQ,AF0DIf,AG1BJ,ANdA,EKlBAe,EF0DIf,CE1DD,AF0DE,CE1DDiB,ACgCAwQ,CH0BG,AHxCF,CGuCH,GGzBO,ANdAlO,CAAC,EMcE,CDhCZ,ALkBa,CKlBC7C,ALkBd,EMcA,ANdgB6C,CKlBhB,ALkBiB,EKlBEvD,CAAnB,CLkBqB,CKlBCC,ALkBtB,CKlBA,CLkBwBsD,CKlBCxD,ALkBA,EAAzB,EAA6B,CKlB7B,EAAgCe,MAAhC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8CH,MAAM,CAACZ,KAArD,EAA4DY,MAAM,CAACG,MAAnE;AD+CE,AC7CF,AFyDIb,AHxCF,IGwCEA,CAAC,EAAE,CAFL,CEvDKc,ED6CE0M,CC7CT,MD6CE;AACD,AC7CF,AFyDKhD,AG1BJ4G,ANdE,EMcFA,EH0BI5G,MAAM,AHxCFpF,EGwCI,AG1BF,CAAC6B,ANdA,GGwCK,AHxCF,CAAC3C,GMcf,CNdmB,EMcE,CNdE,KMcI,ANdChB,CAAd,MAAsB,CAAtB,GAA0B,CAA1B,GAA8B,GAA1C;AGqCA,AGtBAkO,ANdA9O,GG8BQ,CGhBR8O,ANdA9O,CGyCA,IG3BK,GAAG,CAAC8O,ANdA,CAAChS,GAAV,CMcA,ANdc,CAAC4F,GAAD,EAAMA,GAAN,EAAWA,GAAX,EAAgB,GAAhB,CAAd,EAAoC,CAAC,IAAI9B,CAAL,IAAU,CAA9C,EAH2B,CAGuB;AI6BpD8J,AC7CK,AF0DDrN,AG3BH,ANdA,EI4BDqN,CEhBA,AN9C6C,CG2EzCrN,AHvCJ,CGuCK,EAAE,CAAC,CE1DMqP,AFyDZ,MCZW,CAAChP,MAAD,AC7CR,CAAuBK,CD6CNX,EC7CjB,EAA4BsC,CD6CpB,EAAgB4K,EC7CxB,EAAmC,ID6C3B,EAA0B3J,CAA1B,EAA6ByG,OAA7B,EAAsC;AACjD,AC7CF,AF0DI9J,AHvCJ,IGuCIA,CAAC,EAAE,CCbDyN,AC7CA3M,AFwDJ,ECXA,CC7CO,CD6CC4M,EAAR,AC7CUyB,ED6CExB,EAAZ,EAAgBrK,CAAhB,EAAmBmJ,CAAnB,EAAsBC,CC7CC,CAACjM,CD6CxB,EAA2B+M,AC7CJ,EAAMpL,KD6C7B,AC7CuB,CAAzB;AD8CEoL,AC7CF,AF0DIhD,AG3BJ4G,ANZA,EMYAA,EFcE5D,ADaEhD,KE1DG1J,CF0DG,CCbD,CC7CC,AF0DE,AG3BF,CD/BCO,AC+BAqF,CFcC,EAAV,ADac,QG3BhB,CD/BO,CAAiB,CAAjB,AC+BkBpI,CAAC,CD/BC,CAApB,EAAuBwC,AC+BA,GD/BG,CAACJ,MAAJ,CAAWZ,KAAlC,EAAyCgB,GAAG,CAACJ,MAAJ,CAAWG,MAApD,CAAP;AACD,AFsDG,AGvBA,ANZF,GGwBU,EAgBR,GG5BI,CAAC2Q,KAAL,EAAY;AFcZ,ADeEzR,AG5BF,ANZF,IGwCIA,CAAC,EAAE,CADL,CCbE2N,CEdI3N,CFcF,AEdG,GFcA0M,AEdInO,CFcH,AEdI,CAACuI,EFcF,CAAT,EAAY6F,AEdH,GFcM,AEdI,CAAX,EFcU5C,CEdM,CAA1B,KFc2B,CAACiC,IAD5B,EAEE,KAAKW,GAAL,GAAWD,CAAC,GAAGC,GAAf,GAAqBD,CAAC,GAAGC,GAF3B,EAGEgB,EAAE,GAAG,KAAKhB,GAAL,GAAW,EAAED,CAAb,GAAiB,EAAEA,CAH1B,EAIE;AACAe,AChDC,AF2DDxN,AG5BF,ANZF,IGwCIA,CAAC,CCXDwN,CDWG,CAFL,EG1BMxN,CAAC,EFiBE,CAACyF,AEjBCnH,CD/BO2P,AC+BN,CAACnH,EFiBX,CACG,EElBM,GAAU,CAAX,CD/BP,CAA2BrG,CC+BJ,CAA1B,CD/BG,CDiDa,CCjDmBK,GAAG,GAAGqO,aAAa,CAAC1O,GAAD,CAAnD,EAA0D;ADkDvD,ACjDR,AF2DI+J,AG5BF2G,IH4BE3G,AG5BF2G,KD/BK,CF2DG,ECVEpE,ADUA,CCVJ,ACjDGlI,CC+BC,CFkBGqI,AElBFtK,CH4BG,GCVR,CCjDD,AC+BL,CFkBmBgL,ACjDF9I,AC+BA/E,CAAjB,EAAoBC,CAApB,GD/BwB,CDiDlB,GCjDsB;ADkDtB4N,ACjDN,AFuDA,AGxBAoD,GHQQ,CGRRA,CH6BA,GCXMpD,ECjDAlN,MDiDQ,ACjDF,AC+BA,CAACkC,EFkBI,ACjDF9B,EDiDT,CCjDY,AC+BlB,CD/BmBJ,AC+BAX,CAAnB,EAAsBC,CAAtB,ED/BA;AACAU,AF4DEX,AG7BFmR,ANbF,IKlBExQ,AF4DEX,AG7BFmR,CH6BG,EAAE,CADL,AHzCInR,CAAC,CKlBC,CAACwB,AC+BA,CAACqB,ANbAW,KKlBR,AC+BA,ANba,CKlBC8L,AC+BAtP,CAAd,CNbgB,CMaCC,CD/BC,AC+BlB,ANbF,IKlBwB8E,OAAO,CAACuK,IAAD,CAA7B;ADiDM,AChDP,AF4DGrP,AG7BFiR,ANbF,GKrBO,CAAP,AF+DIjR,AG7BFiR,CH6BG,EAAE,CAFL,AHxCIjR,CAAC,GAAK,CI+BF2N,AElBC,ANbEpK,CMaDX,CFkBA,GAAGmK,AJ/BG,CI+BF,AElBd,CAAgBhN,CAAhB,CFkBiB,AJ/BG,CI+BZ,AElBWC,ANbT,CMaV,CFkBoBkN,EJ/BK,CAAhB,CI+Be,EJ/BM,CI+BHpD,CJ/BnB,GAA4B7E,GI+BF,CAAC8G,CJ/BM,GI8BnC,AJ9BsC,EIgCpC,AJhCV,CA5C6C,CA4CK,GIgCnCmB,IAAL,GAAYH,CAAC,GAAGG,IAAhB,GAAuBH,CAAC,GAAGG,IAF7B,EAGES,EAAE,GAAG,KAAKT,IAAL,GAAY,EAAEH,CAAd,GAAkB,EAAEA,CAH3B,EAIE;AACAU,ACpDX,AF4DKjD,AG7BFmG,IH6BEnG,AG7BFmG,EAAE,CAAC5J,GFqBK0G,ADQA,ECRE,ADQA,GCRGpK,CAAC,ADQA,AG7Bd,GFqBiByG,AErBD,OFqBQ,CAACkC,AErBFjM,CAAE,OFqBR,CErBeC,CAAE,CFqBE0N,EAAvB,CErBb,EFqByC5D,OAAO,CAACkC,QAAR,GAAmBlM,KAAnB,GAA2B6N,EAA5D;AACAC,ADIR,AGzBA,ANdF,GGkBU,EA0BR,GH5CInK,EImCImK,AErBF9J,INdI,CMcC,ENdEP,CImCG,AErBF2N,CFqBGzL,GJnCC,CImCV,CACG,CEtBU,CAAC3C,ANdA,CAAxB,CA7C6C,CA+C7C,EMYgB,CAAc/C,CAAd,EAAiBC,CFsBT,AEtBR,CAAd;AFuBY,ACrDT,AF6DDD,AG9BF,IH8BEA,CAAC,EAAE,CADL,CE5DYoO,CC+BN7J,IAAI,EFsBMuJ,CAAJ,AEtBC,EFsBMC,ECrDhB,CAAsBuB,CDqDb,EAAatB,CCrDtB,EAA4B,KDqDnB,aEtBoBjK,KAAnB,CAAb;AFuBYiK,ACrDd,AF6DI/N,AG9BFuG,ANbF9D,EAAAA,EG2CIzC,AG9BFuG,CH8BG,AH3CF,CAACzF,CG2CG,CAFL,CE3DK,ALkBJ,CMaK,CAAC+G,ANbA,CImCKkG,CCrDHlJ,ELkBE9C,KImCS,ACrDf,CAAY+C,EDqDM,CJnChB,CImCK,AJnCSpC,GKlBG,CC+BxB,GD/B4B,AC+BAmF,ENbrB,EAAyB,CAAzB,EAA4B,CAA5B,CAAN,EAAsC9H,CAAC,GAAG,CAA1C,EAA6CC,CAAC,GAAGyD,EMaHgO,IAAnB,ANb3B,CMamD,ANbtD,IMa8B,EAA8B3N,KAA9B,CAA5B;AD9BA,AF6DE0G,AG9BF,ANbH,IG2CKA,ME7DI1L,AF6DE,AG9BF0Q,EH8BI,GG9BC,CD/BC,AF6DE,EG9BAxP,CD/BC,AC+BA,ID/BIuG,CC+BC,EAAN,GD/BW,CAACxH,AC+BAgB,CAAC,KAAK,EAAhC,ED/Be,EAAf;ADqDY,ADKZ,AG1BA,GHAQ,CA1JG,MG0JLuF,OFsBQhC,AEtBD,CFsBE,EEtBC,CFsBEuK,CAAC,GAAG,CAAR,EAAWC,IAAI,GAAGhE,OAAO,CAACkC,EEtBT1H,IAAf,EFqBJ,AErByBkL,EFuBvB,GEvBE,CAAhB,CFuBmB1B,IAAL,GAAYD,CAAC,GAAGC,IAAhB,GAAuBD,CAAC,GAAGC,IAF7B,EAGExK,CAAC,GAAG,KAAKwK,IAAL,GAAY,EAAED,CAAd,GAAkB,EAAEA,CAH1B,EAIE;AACAE,ACzDdjP,AF+DF+L,AG/BE,ANbG,EG4CLA,EE/DE/L,IF+DI,CH5CQ4G,CKnBN,AF+DA,AG/BAxB,CDhCCoL,AFgEP,EGhCS,CFyBKvB,EEzBFzI,IDhCZ,CLmBG,CIsCmB,AJtCGlF,CIsCFqF,ACzDJ,ACgCA,CAACvB,GFyBN,AEzBF,CFyBiB9D,AEzBLwF,ANbrB,CKnBsBd,CLmBQhE,EMarB,CAAiB,ANb1B,CIsCgC,CAAC2M,AJtCE,CKnBN,ACgCpB,CFyB0B,ACzDL,ACgCjC,GFyByCnK,CAAN,ACzDEpE,CDyDR,GAAiB8N,MCzDb,CAAelO,CDyDM,CAACwE,CAAD,CAAxC,ECzDwC,CAAClE,MAAtB,CAAD,CAAhC;AD0Da,ADOXW,AGhCF,ANbF,IG6CIA,CAAC,EAAE,CADL,AH5CIsC,CAAC,CMaC8B,ENbE,GMaG,ANbb,GMagBmB,OAAO,CAACnB,KAAR,CAAcyB,IAAd,CAAmB,GAAnB,CAAd;ADhCA9G,AFiEEkB,AGhCF4Q,ANbF,IKpBE9R,AFiEEkB,AGhCF4Q,CHgCG,EAAE,CAFL,AH3CItO,CAAC,CKpBC,CAACjD,CLoBC,CMaC,CAAC0H,CNbZ,QMaE,GAAuB,EDjCvB,CAAyBsI,IAAzB,CCiC8BnL,GAAI,KAAIoB,OAAO,CAAC4B,MAAR,CAAehD,GAAI,gDAA+CA,GAAI,sBAAqBC,KAAM,KAAImB,OAAO,CAAC4B,MAAR,CAAe/C,KAAM,gDAA+CA,KAAM,YAArN;AFyBY,ACzDb,AFiEGqG,AGhCH,ANbD,GKxBO,ACoBP,CDpBA,AFqEIA,IH7CEvG,EG6CI,EAAE,EH7CA,EG6CI,CH7CD,EIqCM8J,EJrCF5K,MIqCL,WJrCC,CAAsBd,CAAC,GAAGC,CAAJ,GAAQ,CAA9B,CAAf,CAHwC,CAGS;AIsCpC,ACzDd,AF6DG,AG5BH,GH2BS,EAMN,MCpBU,EADF;AAcD,ADQLvC,AH/CJ,IG+CIA,CAAC,EAAE,AH/CF,CG8CH,GH9COC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGsC,CAAC,GAAG,CAAxB,EAA2BtC,CAAC,EAA5B,EAAgC;AGgD5BA,AGjCN,ANdI,IG+CEA,CAAC,EAAE,CAFL,CH7CK,IAAID,CAAC,CMcCgQ,ENdE,CAAb,EAAgBhQ,CMcpB,ANdqB,CMcCe,ENdEuB,CMcxB,ANdyB,EMcEyN,CNdC,CAAxB,EAA2B/P,CAAC,EAA5B,EMcJ,ANdoC,EMcEwM,MAAtC,EAA8CzC,OAAO,GAAG,EAAxD,EAA4D;AFyBlD,ADSJU,AGjCJ,ANdI,IG+CAA,IGjCEnI,CAAC,CHiCG,EAAE,AGjCFvB,ANdAgC,GIsCK8K,AExBF,CHiCG,AGjCFlN,CNdC,GAAGoD,EMcR,CFwBF,AExBahE,ENdE,CAACC,CAAD,CMcvB,CNd2BC,CAAJ,EAAOI,MAAP,CAAnB,CAD8B,CACK;AIuChC,ADKL,AG7BF,GHuBQ,EAWN,ECnCI,CECAkC,CFFF,AEEG,GAAGxB,GAAG,CAACJ,MAAJ,CAAWG,MAArB;AF0BG,ADSCd,AGlCJ,ANfIe,IGiDAf,CAAC,CHjDDe,CGiDG,CAAC,AGlCFV,CHiCJ,AHhDK,CAACuC,IMeI,GAAG,KNfX,CAAiB,IAAIZ,SAAJ,CAAce,CMeXhC,GAAG,CAACO,ANfP,EAAqB,CAArB,EAAwB,CAAxB,CAAjB,EAA6CtB,CAAC,EMe1B,CAAiB,ANfY,CMe7B,ANfpB,EMewC,ANfYC,CMehC,ANfiC,EMeVqC,CAAvB,ANfoC,CAAxD,CMe8CC,CAA1B,CAAT,EAAuC,EAAvC,CAAf;AHmCItC,AGlCJ,ANfG,IGiDCA,CAAC,EAAE,CAFL,AGhCI2J,GAAG,GAAG4C,MAAM,CAACA,MAAP,CAAcnM,MAAM,CAACkB,IAArB,EAA2Be,CAA3B,EAA8ByH,OAA9B,CAAZ;AFyBE,ADUEU,AGlCJ,ANfC,IGiDGA,IGlCE9H,EHkCI,CCVD8K,CDUG,IAAI,CGlCD,CFwBb,EExBgB,IAAIzL,SAAJ,CAAc,IAAIoB,iBAAJ,CAAsBwG,GAAtB,CAAd,EAA0CtH,CAA1C,EAA6CC,CAA7C,CAAlB;AFyBC,ADMC,AG9BFwN,EAAAA,CHmBQ,EAgBN,MGnCO,CAACnN,YAAV,CAAuBD,SAAvB,EAAkC,CAAlC,EAAqC,CAArC;AHoCI3C,AGlCJ,ANhBA,IGkDIA,CAAC,EAAE,CAAC,CADN,AGjCK,ANhBAkE,MAAP;AI3F0B,AD8ItBjE,AGnCK0C,ANfV,IGkDK1C,AGnCK0C,CHmCJ,EAAE,CAFL;AAGE8H,AGpCG,GAAP,CHoCIA,MAAM,EAAE,IAAI;AAHd,AGhCH,ANdM,GG8BG,EAqBN,IHnDY7E,mBAAT,CAA6BvF,MAA7B,EAAqCU,GAArC,EAA0C;AGoD3Cf,AHnDJ6D,EAAAA,EGmDI7D,CAAC,EAAE,CADL,CHlDK,GAAG,EAAV,CAD+C,CAG/C;AGkDIC,AGrCN,IHqCMA,CAAC,EAAE,CAFL,CGnCK0R,cAAT,CACEpL,IADF,EAEEvG,CAFF,EAGEC,CAHF,EAIE2R,QAAQ,GAAG,IAAIxO,iBAAJ,CAAsB,IAAI,CAAJ,GAAQ,CAA9B,CAJb,EAKE;AHiCIqH,AGhCJ,ANlBA,IGkDIA,GHlDC,CMkBC1G,EHgCI,CHlDDT,CGkDG,AHlDF,CMkBC,ENlBE,CGkDG,AGhCFiD,GNlBd,CMkBkB,CAACxD,ANlBAO,CAAC,IMkBN,ANlBU,CMkBCtD,CAAX,EAAcC,ANlB5B,CMkBc,CAAd,ANlB8BqD,CMiB9B,ANjB+B,CMmB/B,CNnBA,EAAmC;AG+CjC,AG3BF,ANnBE,GGyBM,EA0BN,KHnDMU,SAAS,GAAG3D,MAAM,CAACiD,CAAD,CAAxB;AGoDEtD,AGhCJ,ANnBE,IGmDEA,CAAC,EAAE,CADL,EHlDM;AGoDJC,AHpDMkE,IGoDNlE,CAAC,CHpDKkE,CGoDH,CAFL,CHlDM;AGqDJsG,AGjCJ,ANpBerG,IGqDXqG,EHrDWrG,EMoBTf,EHiCI,CHrDF,CGqDI,CGjCD,GHiCK,AGjCFrD,CAAC,KAAK,CAAN,IAAWC,CAAC,KAAK,CAA/B;AH8BE,AG7BF,ANrBsBwF,GGwBd,EA+BN,CHvDoBA,EMqBhBlB,IAAI,GAAG,6BAAmBR,KAAnB,EAA0BV,KAA1B,CAAb;AHmCIrD,AGlCJ,ANtBQ,IGwDJA,CAAC,EAAE,CADL,AGjCI6R,ANtB0BxN,UMsBhB,GAAG,CNtB2B,CAACL,SAAD,CAA5C,aMsBgCO,IAAf,CAAnB;AHmCItE,AGjCJ,IHiCIA,CAAC,CGjCDoD,CHiCG,CAFL,GG/BF,EAAW3E,OAAO,CAACC,GAAR,CAAYkT,UAAZ;AHkCPpH,AHzDF,IGyDEA,IHzDEhF,EGyDI,EAAE,CHzDD,GGyDK,CHzDDtB,GAAG,CAAC0B,IAAJ,CAAS,EAAT,MAAiBzB,KAAK,CAACyB,IAAN,CAAW,EAAX,CAA9B,EAA8C;AGsD9C,AG7BF,ANxBI,GGsBI,CA1LK,GG4LR,IAAIvC,CAAC,ANxBAtD,CAAC,EMwBE,CAAb,ANxBcsD,CAAC,CMwBCA,CAAC,CNxBC,EMwBE,ANxBhB,EMwBJ,EAAwBA,CAAC,EAAzB,EAA6B;AHmC7ByH,AGlCE,ANxBE,EG0DJA,OAAO,CGlCC5G,CHkCC,CACP,AH3DQlE,CMwBC,ANxBA,GMwBG,ANxBA,CAACqD,CAAC,IAAI,CAAN,IAAW,EAArB,aMwB0B,CAAC,GAAGS,KAAK,CAACH,KAAN,CAAYN,CAAC,GAAG,CAAhB,EAAmBA,CAAC,GAAG,CAAJ,GAAQ,CAA3B,CAAJ,CAAhB,CAAZ;AHoCEtD,AH1DA6D,IG0DA7D,CAAC,CH1DD6D,CG0DG,CADL,KHzDS,CAAC6B,IAAR,CAAa;AG2DbzF,AGnCF,ANvBI+D,IG0DF/D,CAAC,EAAE,CAFL,AGjCIkE,ANvBAH,GMuBG,KAAK6N,CNxBG,SMwBO,CAAC1K,MAAX,CAAkBhD,GAA9B,EAAmC;AHoCjCsG,AGnCAmH,ANvBEtO,IG0DFmH,EGnCAmH,ENvBEtO,CAFW,CG4DP,EAAE,EGnCA,CAAC7D,CHmCG,EGnCZ,CAAa,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,GAAV,CAAb,EAA6B6D,CAAC,GAAG,CAAjC;AHgCF,AG/BC,ANvBGtD,GGqDG,EAMP,AGtCA,GNrBIA,CAHW,EM0BR,IAAImE,GAAG,KAAK0N,UAAU,CAAC1K,MAAX,CAAkB/C,KAA9B,EAAqC;AHqC1CpE,AGpCA4R,ANvBE3R,IG2DFD,CAAC,CGpCD4R,CHoCG,CADL,AH1DI3R,MMuBM,CAACR,GAAT,CAAa,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,CAAb,EAAmC6D,CAAC,GAAG,CAAvC;AHqCArD,AGpCD,AN5Bc,IGgEbA,CAAC,AGtCI,EHsCF,AHhEH,CG8DF,GGlCO;AHqCLwK,AGpCAmH,ANvBD,IG2DCnH,EGpCAmH,IHoCM,EAAE,EGpCA,CAACnS,CHoCG,EGpCZ,CAAa,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,GAAV,CAAb,EAA6B6D,CAAC,GAAG,CAAjC;AHiCF,AGhCC,ANvBF,GGiDQ,EAWP;AACEtD,AGrCH,IHqCGA,CAAC,EAAE,CAAC,CADN;AAEEC,AH5DJ,IG4DIA,CAAC,CH5DD6F,CG4DG,CAFL,GH1DO,GAAG,IAAZ;AG6DI2E,AGrCJ,ANtBA,IG2DIA,IH3DEhF,CMsBCmM,CHqCG,EAAE,CH3DD,GG2DK,AH3DF,CMsBd;AHkCE,AGjCH,ANtBG3N,GG4CO,CH5CPA,CG4DA,IH5DK,EAAE,MAAM;AG6DXjE,AH5DA8F,IG4DA9F,CAAC,CH5DD8F,CG4DG,CAAC,CADN,EH3DO,GAAGC,WAAW,CAAC,MAAMC,OAAO,CAACjF,GAAD,EAAMV,MAAN,CAAd,EAA6B,GAA7B,CAAnB;AG6DAJ,AGtCN,ANtBK,IG4DCA,CAAC,AH/DS,EG+DP,CAFL,OGpCWiQ,aAAf,CAA6BnP,GAA7B,EAAkCgP,SAAlC,EAA6C;AHuCvCtF,AGtCJ,ANtBExE,IG4DEwE,AH5DFxE,IMsBI3D,ANtBA,CMsBC,CHsCG,AH5DF,EG4DI,AGtCFvB,GAAG,CHsCG,AGtCFJ,ANtBA,MMsBJ,CAAWZ,KAArB;AHmCE,AGlCF,ANtBI,GGwCK,EAqBP,GGvCIwC,CAAC,GAAGxB,CNtBCmF,EMsBE,CAACvF,MAAJ,CAAWG,GNtBG,CAACgF,EMsBzB,GNtBwB,CAApB;AG8DA9F,AGvCJ,ANtBG,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","file":"scr-tools.628f49dc.js","sourceRoot":"../public","sourcesContent":["export default function drop(root, callback) {\n  root.ondragover = () => false;\n  root.ondragend = () => false;\n  root.addEventListener(\n    'drop',\n    e => {\n      e.preventDefault();\n      e.stopPropagation();\n      console.log('on ', root);\n\n      const droppedFile = e.dataTransfer.files[0];\n      const reader = new FileReader();\n      reader.onload = event => {\n        callback(new Uint8Array(event.target.result));\n      };\n      reader.readAsArrayBuffer(droppedFile);\n    },\n    false\n  );\n}\n","export const brightColoursLookup = new Map();\nbrightColoursLookup.set([0, 0, 0].toString(), 0b000);\nbrightColoursLookup.set([0, 0, 0xff].toString(), 0b001);\nbrightColoursLookup.set([0xff, 0, 0].toString(), 0b010);\nbrightColoursLookup.set([0xff, 0, 0xff].toString(), 0b011);\nbrightColoursLookup.set([0, 0xff, 0].toString(), 0b100);\nbrightColoursLookup.set([0, 0xff, 0xff].toString(), 0b101);\nbrightColoursLookup.set([0xff, 0xff, 0].toString(), 0b110);\nbrightColoursLookup.set([0xff, 0xff, 0xff].toString(), 0b111);\n\nexport const normalColoursLookup = new Map();\nnormalColoursLookup.set([0, 0, 0].toString(), 0b000);\nnormalColoursLookup.set([0, 0, 0xd7].toString(), 0b001);\nnormalColoursLookup.set([0xd7, 0, 0].toString(), 0b010);\nnormalColoursLookup.set([0xd7, 0, 0xd7].toString(), 0b011);\nnormalColoursLookup.set([0, 0xd7, 0].toString(), 0b100);\nnormalColoursLookup.set([0, 0xd7, 0xd7].toString(), 0b101);\nnormalColoursLookup.set([0xd7, 0xd7, 0].toString(), 0b110);\nnormalColoursLookup.set([0xd7, 0xd7, 0xd7].toString(), 0b111);\n\nexport const brightColours = {\n  0b000: [0, 0, 0],\n  0b001: [0, 0, 0xff],\n  0b010: [0xff, 0, 0],\n  0b011: [0xff, 0, 0xff],\n  0b100: [0, 0xff, 0],\n  0b101: [0, 0xff, 0xff],\n  0b110: [0xff, 0xff, 0],\n  0b111: [0xff, 0xff, 0xff],\n};\n\nexport const normalColours = {\n  0b000: [0, 0, 0],\n  0b001: [0, 0, 0xd7],\n  0b010: [0xd7, 0, 0],\n  0b011: [0xd7, 0, 0xd7],\n  0b100: [0, 0xd7, 0],\n  0b101: [0, 0xd7, 0xd7],\n  0b110: [0xd7, 0xd7, 0],\n  0b111: [0xd7, 0xd7, 0xd7],\n};\n","function getIndexForXY(width, x, y) {\n  return width * y + x;\n}\n\nlet order = 1;\n\nexport default class Zoom {\n  constructor(buffer, target = document.body, id) {\n    this.target = target;\n    this.order = order++;\n    this.id = id || `zoom-${this.order}`;\n    if (buffer instanceof HTMLImageElement) {\n      const img = buffer;\n      const canvas = document.createElement('canvas');\n      target.appendChild(canvas);\n      canvas.width = img.width;\n      canvas.height = img.height;\n      const ctx = (buffer = canvas.getContext('2d'));\n      ctx.drawImage(img, 0, 0);\n      img.parentNode.replaceChild(canvas, img);\n    }\n\n    if (buffer instanceof CanvasRenderingContext2D) {\n      const ctx = (this.sourceCtx = buffer);\n      this.buffer = buffer.getImageData(\n        0,\n        0,\n        buffer.canvas.width,\n        buffer.canvas.height\n      ).data;\n      ctx.canvas.toBlob(blob => {\n        const url = URL.createObjectURL(blob);\n        ctx.canvas.style.background = `url(${url}) no-repeat`;\n        ctx.clearRect(0, 0, buffer.canvas.width, buffer.canvas.height);\n      });\n    } else {\n      this.buffer = buffer instanceof ImageData ? buffer.data : buffer;\n    }\n    this.isVisible = false;\n    this._last = null;\n  }\n\n  makeVisible(target = this.target) {\n    const canvas = document.createElement('canvas');\n    canvas.className = 'zoom';\n    canvas.id = this.id;\n    target.appendChild(canvas);\n    this.ctx = canvas.getContext('2d');\n\n    const scale = 20;\n    const w = (canvas.width = 8);\n    const h = (canvas.height = 8);\n    canvas.style.imageRendering = 'pixelated';\n    canvas.style.width = `${w * scale}px`;\n    canvas.style.height = `${h * scale}px`;\n    canvas.style.setProperty('--order', this.order);\n    this.isVisible = true;\n\n    return this;\n  }\n\n  put(imageData) {\n    const ctx = this.ctx;\n    ctx.putImageData(imageData, 0, 0);\n  }\n\n  seeXY(x, y) {\n    const key = `${x}x${y}`;\n    if (key === this._last) return;\n    this._last = key;\n    if (!this.isVisible) this.makeVisible();\n    const imageData = new ImageData(this.pixel(x, y), 8, 8);\n    this.ctx.putImageData(imageData, 0, 0);\n\n    if (this.sourceCtx) {\n      const ctx = this.sourceCtx;\n      ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n      ctx.strokeStyle = 'white';\n      ctx.strokeRect(x * 8 + 0.5, y * 8 + 0.5, 8, 8);\n      ctx.strokeStyle = 'black';\n      ctx.strokeRect(x * 8 - 0.5, y * 8 - 0.5, 8, 8);\n    }\n  }\n\n  pixel(x = 0, y = 0) {\n    const sourceWidth = 256;\n    const width = 8;\n    const height = 8;\n    const source = this.buffer;\n\n    const data = new Uint8ClampedArray(width * height * 4);\n\n    const print = false; //x === 31 && y === 23;\n\n    for (let i = 0; i < height; i++) {\n      const j = getIndexForXY(sourceWidth, x * 8, y * 8 + i);\n      const index = j * 4;\n      const end = index + width * 4;\n      const offset = i * width * 4;\n      if (print) {\n        console.log(\n          'j: %s, index: %s, end: %s',\n          j,\n          index,\n          end,\n          x * 8,\n          i,\n          source.subarray(index, end)\n        );\n      }\n      data.set(source.slice(index, end), offset);\n    }\n\n    return data;\n  }\n}\n","import {\n  brightColours,\n  normalColours,\n  normalColoursLookup,\n  brightColoursLookup,\n} from './zx-colour.js';\n\nimport Zoom from './Zoom.js';\n\nlet toBlink = [];\nlet blinkOn = false;\n\nfunction block(\n  x = 0,\n  y = 0,\n  buffer, // expected to be 6912 long (2048 * 3 + 768)\n  attribute = buffer.subarray(2048 * 3)[y * 32 + x]\n) {\n  const start = ((y / 8) | 0) * 2048;\n  const pixels = buffer.subarray(start, start + 2048);\n\n  // reminder: paper is binary 0, ink is 1\n  const { ink, paper } = readAttributes(attribute);\n  const pixel = new Uint8ClampedArray(4 * 8 * 8);\n  y = y % 8;\n\n  for (let i = 0; i < 8; i++) {\n    const ptr = x + 256 * i + y * 32;\n    const byte = pixels[ptr];\n\n    // imageData rgba 8x1\n    for (let j = 0; j < 8; j++) {\n      // determines bit for i, based on MSb as left most pixel\n      const colour = (byte & (1 << (7 - j))) === 0 ? paper : ink;\n\n      const offset = j * 4 + 4 * 8 * i;\n      pixel[offset + 0] = colour[0];\n      pixel[offset + 1] = colour[1];\n      pixel[offset + 2] = colour[2];\n      pixel[offset + 3] = 255;\n    }\n  }\n\n  return pixel;\n}\n\nexport async function load(url) {\n  return new Uint8Array(await (await fetch(url)).arrayBuffer());\n}\n\nasync function sleep(ms) {\n  // return;\n  if (!ms) return;\n  return new Promise(resolve => setTimeout(() => resolve(), ms));\n}\n\nasync function put(ctx, imageData, x, y) {\n  ctx.putImageData(imageData, x, y);\n  await sleep(0);\n}\n\nasync function draw(ctx, third, data) {\n  const imageData = new Uint8ClampedArray(4 * 8);\n  let ctr = 0;\n  for (let offset = 0; offset < 8; offset++) {\n    for (let line = 0; line < 8; line++) {\n      for (let i = 0; i < 32; i++) {\n        let j = 0;\n        const ptr = ctr++;\n        const byte = data[ptr];\n\n        // imageData rgba 8x1\n        for (; j < 8; j++) {\n          // determines bit for i, based on MSb\n          const bit = (byte & (1 << (7 - j))) === 0 ? 0 : 255;\n\n          const offset = j * 4;\n          imageData[offset + 0] = bit;\n          imageData[offset + 1] = bit;\n          imageData[offset + 2] = bit;\n          imageData[offset + 3] = 255; // - bit; // alpha\n        }\n        const x = i * 8;\n        const y = (ctx.canvas.height / 3) * third + line * 8 + offset;\n        await put(ctx, new ImageData(imageData, 8, 1), x, y);\n      }\n    }\n  }\n}\n\n// stream individual whole bytes into the canvas\nexport async function stream(ctx, byte, index) {\n  const third = index >> 11; // 0..2047, 2048..4095, 4096..6143\n\n  if (third === 3) {\n    // colour\n    const attribs = readAttributes(byte);\n    const x = (index % 32) * 8;\n    const y = ((index >> 5) % 64) * 8;\n\n    const block = ctx.getImageData(x, y, 8, 8);\n    for (let i = 0; i < 8 * 8; i++) {\n      const type = block.data[i * 4] === 255 ? 'ink' : 'paper';\n      block.data.set(attribs[type], i * 4);\n    }\n\n    if (attribs.blink && attribs.ink !== attribs.paper) {\n      toBlink.push({\n        attribute: byte,\n        x: x / 8,\n        y: y / 8,\n      });\n    }\n\n    await put(ctx, block, x, y);\n\n    return;\n  }\n\n  const imageData = new Uint8ClampedArray(4 * 8); // 1x8 pixel array\n\n  for (let j = 7; j >= 0; j--) {\n    // determines bit for i, based on MSb\n    const bit = (byte & (1 << j)) === 0 ? 0 : 255;\n    imageData.set([bit, bit, bit, 255], (7 - j) * 4); // place the bits forward\n  }\n\n  // build the line based on the 8bit byte\n  // for (let j = 0; j < 8; j++) {\n  //   // determines bit for i, based on MSb\n  //   const bit = (byte & (1 << (7 - j))) === 0 ? 0 : 255;\n  //   imageData.set([bit, bit, bit, 255], j * 4);\n  // }\n\n  const x = index % 32;\n  const y = (((index >> 5) * 8) % 64) + third * 56; // this is the y coord\n  const offset = index >> 8;\n\n  // await\n  put(ctx, new ImageData(imageData, 8, 1), x * 8, y + offset);\n}\n\nexport function pixelsForSCR(buffer, ctx) {\n  const w = 256;\n  const h = 192;\n  const pixels = new Uint8ClampedArray(w * h * 4); // 196,608\n  for (let y = 0; y < h / 8; y++) {\n    for (let x = 0; x < w / 8; x++) {\n      const pixel = block(x, y, buffer); // returns 8x8\n      ctx.putImageData(new ImageData(pixel, 8, 8), x * 8, y * 8);\n    }\n  }\n\n  return pixels;\n}\n\nexport function loadBlinkAttributes(buffer, ctx) {\n  toBlink = [];\n\n  // 768\n  for (let i = 6144; i <= 6912; i++) {\n    const attribute = buffer[i];\n    const { ink, paper, blink } = readAttributes(attribute);\n    if (blink && ink.join('') !== paper.join('')) {\n      const x = i % 32;\n      const y = (i >> 5) % 64;\n\n      toBlink.push({\n        attribute,\n        i,\n        x,\n        y,\n      });\n    }\n  }\n\n  let timer = null;\n\n  const blink = {\n    start: () => {\n      timer = setInterval(() => doBlink(ctx, buffer), 333);\n    },\n    stop: () => {\n      return clearInterval(timer);\n    },\n  };\n\n  return blink;\n}\n\nasync function colour(ctx, buffer) {\n  const attribs = buffer.subarray(2048 * 3);\n\n  for (let i = 0; i < attribs.length; i++) {\n    const attribute = attribs[i];\n    const { ink, paper, blink } = readAttributes(attribute);\n\n    const x = i % (ctx.canvas.width / 8);\n    const y = (i / (ctx.canvas.width / 8)) | 0;\n\n    const pixel = new ImageData(block(x, y, buffer), 8, 8);\n\n    if (blink && ink.join('') !== paper.join('')) {\n      toBlink.push({\n        attribute,\n        x,\n        y,\n      });\n    }\n\n    await put(ctx, pixel, x * 8, y * 8); // replace the whole shebang\n  }\n}\n\nfunction doBlink(ctx, buffer) {\n  blinkOn = !blinkOn;\n\n  toBlink.forEach(item => {\n    const { x, y } = item;\n    let attribute = item.attribute;\n    if (blinkOn) {\n      // swap the paper and ink\n      attribute =\n        (attribute & 192) + // bright + blink\n        ((attribute & 7) << 3) + // ink moved to paper\n        ((attribute & 56) >> 3); // paper moved to ink\n    }\n    const pixel = new ImageData(block(x, y, buffer, attribute), 8, 8);\n    put(ctx, pixel, x * 8, y * 8);\n  });\n}\n\nexport default async function main(url) {\n  const buffer = await load(url || './screens/remy.scr');\n\n  const canvas = document.createElement('canvas');\n  const log = document.createElement('pre');\n\n  document.body.appendChild(canvas);\n  const zoom = new Zoom(buffer);\n  document.body.appendChild(log);\n  const ctx = canvas.getContext('2d');\n\n  window.ctx = ctx;\n\n  const scale = 2;\n  const w = (canvas.width = 256);\n  const h = (canvas.height = 192);\n  canvas.style.imageRendering = 'pixelated';\n  canvas.style.width = `${w * scale}px`;\n  canvas.style.height = `${h * scale}px`;\n  ctx.fillStyle = '#ccc';\n  ctx.fillRect(0, 0, w, h);\n\n  await draw(ctx, 0, buffer.subarray(0, 2048));\n  await draw(ctx, 1, buffer.subarray(2048, 2048 * 2));\n  await draw(ctx, 2, buffer.subarray(2048 * 2, 2048 * 3));\n\n  const attribs = buffer.subarray(2048 * 3);\n\n  await colour(ctx, buffer);\n  zoom.seeXY(0, 0);\n\n  // setInterval(() => zoom.seeXY(), 1000);\n\n  canvas.onmousemove = e => {\n    const { ptr, x, y, byte, bright, blink, ink, paper } = readFromPoint({\n      attribs,\n      scale,\n      x: e.pageX,\n      y: e.pageY,\n    });\n\n    zoom.seeXY(x / 8, y / 8);\n\n    log.innerHTML = `ptr: ${ptr}\nx: ${x} (${x / 8})\ny: ${y} (${y / 8})\nbyte: ${byte}\nink: <span style=\"color: white; text-shadow: 1px 1px 0 #000; background: rgb(${ink.join(\n      ','\n    )})\">${(byte & 7).toString(2).padStart(3, '0')}</span>\npaper: <span style=\"color: white; text-shadow: 1px 1px 0 #000; background: rgb(${paper.join(\n      ','\n    )})\">${((byte & 56) >> 3).toString(2).padStart(3, '0')}</span>\nbright: ${bright}\nblink: ${blink}\n`;\n  };\n\n  canvas.onclick = e => {\n    const { x, y, ink, paper } = readFromPoint({\n      attribs,\n      scale,\n      x: e.pageX,\n      y: e.pageY,\n    });\n\n    toBlink.push({\n      x,\n      y,\n      ink,\n      paper,\n    });\n  };\n\n  setInterval(() => doBlink(ctx, buffer), 333);\n}\n\nexport function blink(ctx, buffer) {\n  return setInterval(() => doBlink(ctx, buffer), 333);\n}\n\nexport function readAttributes(byte) {\n  const bright = !!(byte & 64);\n  const source = bright ? brightColours : normalColours;\n\n  const values = {\n    ink: byte & 7,\n    paper: (byte & 56) >> 3,\n  };\n\n  const ink = source[values.ink]; // 0b00000111\n  const paper = source[values.paper]; // 0b00111000\n  const blink = !!(byte & 128);\n\n  return {\n    values,\n    bright,\n    ink,\n    paper,\n    blink,\n  };\n}\n\nfunction readFromPoint({ x, y, scale = 1, attribs = [] }) {\n  x = (((x / scale) | 0) / 8) | 0;\n  y = (((y / scale) | 0) / 8) | 0;\n  const ptr = y * 32 + x;\n  const byte = attribs[ptr];\n\n  const { ink, paper, bright, blink } = readAttributes(byte);\n\n  return {\n    ptr,\n    x: x * 8,\n    y: y * 8,\n    byte,\n    ink,\n    paper,\n    blink,\n    bright,\n  };\n}\n\nfunction getIndexForXY(width, x, y) {\n  return width * y + x;\n}\n\n/**\n * Converts canvas image data to SCR binary format\n * @param {Number} third 0-2: the thirds of the screen data\n * @param {Uint8Array} arrayBuffer expected to be 3 * 2048 + 768 (empty)\n * @param {Uint8ClampedArray} canvasImageData canvas pixel data (expects to be filled)\n */\nexport function pixelsToBytes(third, arrayBuffer, canvasImageData) {\n  const data = arrayBuffer.subarray(third * 2048, (third + 1) * 2048);\n  const pixels = canvasImageData.subarray(\n    third * (canvasImageData.length / 3),\n    (third + 1) * (canvasImageData.length / 3)\n  );\n\n  let ptr = 0;\n\n  for (let offset = 0; offset < 8; offset++) {\n    for (let y = 0; y < 8; y++) {\n      const row = y * 8 + offset;\n\n      for (let x = 0; x < 32; x++) {\n        let byte = 0;\n\n        for (let j = 0; j < 8; j++) {\n          const index = getIndexForXY(256, x * 8 + j, row) * 4;\n          byte += (pixels[index] === 0 ? 1 : 0) << (7 - j);\n        }\n\n        data[ptr] = byte;\n        ptr++;\n      }\n    }\n  }\n}\n\n/**\n * Converts canvas image data to SCR binary format\n * @param {Number} third 0-2: the thirds of the screen data\n * @param {Uint8Array} allPixels expected to be 3 * 2048 + 768\n * @param {Uint8ClampedArray} allData canvas pixel data\n */\nexport function putPixels(third, allPixels, allData) {\n  const pixels = allPixels.subarray(third * 2048, (third + 1) * 2048);\n  const data = allData.subarray(\n    third * (allData.length / 3),\n    (third + 1) * (allData.length / 3)\n  );\n\n  let ptr = 0;\n\n  for (let offset = 0; offset < 8; offset++) {\n    for (let y = 0; y < 8; y++) {\n      const row = y * 8 + offset;\n\n      for (let x = 0; x < 32; x++) {\n        let bit = 0;\n\n        for (let j = 0; j < 8; j++) {\n          const index = getIndexForXY(256, x * 8 + j, row) * 4;\n          bit += (data[index] === 0 ? 1 : 0) << (7 - j);\n        }\n\n        pixels[ptr] = bit;\n        ptr++;\n      }\n    }\n  }\n}\n\nexport function getInkFromPixel(rgb, shiftBright = false) {\n  rgb = `${rgb[0]},${rgb[1]},${rgb[2]}`;\n  let ink = brightColoursLookup.get(rgb);\n\n  if (!ink) {\n    ink = normalColoursLookup.get(rgb);\n    if (shiftBright) ink <<= 3;\n  }\n\n  return ink;\n}\n\nexport function attributesForBlock(block, print) {\n  let attribute = 0;\n  const inks = new Uint8Array((0b111 << 3) + 1).fill(0); // container array\n\n  for (let i = 0; i < block.length / 4; i++) {\n    const ink = getInkFromPixel([...block.slice(i * 4, i * 4 + 3)], true);\n    inks[ink]++;\n  }\n\n  if (print) {\n    Object.keys(inks).forEach(\n      (ink, count) =>\n        inks[count] && console.log('ink %s (%s)', ink, inks[count])\n    );\n  }\n\n  let [{ ink: paper }, { ink } = { ink: 0 }] = Array.from(inks)\n    .map((count, ink) => ({ ink, count }))\n    .filter(({ count }) => count)\n    .sort((a, b) => a.count - b.count)\n    .slice(-2);\n\n  if (paper === null) {\n    paper = ink;\n  }\n\n  // this helps massage the colours into a better position\n  if (ink === 7 && paper !== 7) {\n    [ink, paper] = [paper, ink];\n  }\n\n  // work out the brightness based on the majority ink\n  if (ink >> 3 === 0 || paper >> 3 === 0) {\n    // if ink or paper is black, then take the brightness from the other colour\n    if (ink === 0 || paper === 0) {\n      const colour = ink === 0 ? paper : ink;\n      if (colour >>> 3 === 0) {\n        // colour is bright\n        attribute += 64;\n      } else {\n        // not bright\n      }\n    } else {\n      // we're dealing with bright\n      if (print) console.log('dealing with bright');\n      if (ink >> 3 === 0 && inks[ink] > inks[paper]) {\n        if (print) console.log('ink > paper', ink, paper);\n        attribute += 64;\n      } else if (paper >> 3 === 0 && inks[paper] > inks[ink]) {\n        if (print) console.log('paper > ink');\n        attribute += 64;\n      }\n    }\n  }\n\n  if (ink >> 3 !== 0) {\n    ink = ink >> 3;\n  }\n\n  if (paper >> 3 !== 0) {\n    paper = paper >> 3;\n  }\n\n  attribute += paper << 3;\n  attribute += ink;\n\n  return attribute;\n}\n\nexport function putAttributes(pixels, inkData) {\n  let ptr = 0;\n  const zoom = new Zoom(inkData);\n  for (let y = 0; y < 192 / 8; y++) {\n    for (let x = 0; x < 256 / 8; x++) {\n      const block = zoom.pixel(x, y);\n      const print = false; // x === 28 && y === 19;\n\n      pixels[2048 * 3 + ptr] = attributesForBlock(block, print);\n\n      ptr++;\n    }\n  }\n}\n\nexport function download(data, filename = 'image.png', type = 'image/png') {\n  const click = function(node) {\n    var event = new MouseEvent('click');\n    node.dispatchEvent(event);\n  };\n\n  const a = document.createElement('a');\n  a.download = filename;\n  const blob = new Blob([data], { type });\n  const url = URL.createObjectURL(blob);\n  a.href = url;\n  click(a);\n  URL.revokeObjectURL(url);\n}\n","class ArrayNode extends Array {\n  constructor() {\n    super();\n\n    // allow setting any node property via proxy\n    return new Proxy(this, {\n      get(obj, prop) {\n        const type = obj[0];\n\n        if (type && prop in type) {\n          return type[prop];\n        }\n\n        return obj[prop];\n      },\n\n      set(obj, prop, value) {\n        const type = obj[0];\n\n        if (type && prop in type) {\n          return obj.filter((el) => (el[prop] = value));\n        }\n\n        const res = (this[prop] = value);\n        return res;\n      },\n    });\n  }\n\n  on(event, handler, options) {\n    return this.filter((el) => el.addEventListener(event, handler, options));\n  }\n\n  emit(type, data) {\n    const event = new Event(type, { data });\n    return this.filter((el) => el.dispatchEvent(event));\n  }\n}\n\nexport const $ = (s, ctx = document) => {\n  const res = ctx.querySelectorAll(s);\n\n  if (res.length === 0) {\n    console.warn(`${s} zero results`);\n  }\n\n  return ArrayNode.from(res);\n};\n","export default (function() {\n  var a = document.createElement('a');\n  document.body.appendChild(a);\n  a.style = 'display: none';\n  return function(data, fileName) {\n    let blob = null;\n\n    if (data instanceof Blob) {\n      blob = data;\n    } else {\n      if (!Array.isArray(data)) {\n        data = [data];\n      }\n      blob = new Blob(data, { type: 'octet/stream' });\n    }\n    const url = URL.createObjectURL(blob);\n    a.href = url;\n    a.download = fileName;\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n})();\n","export default {\n  oneDimensional: [\n    {\n      x: 1,\n      y: 0,\n      factor: 1,\n    },\n  ],\n  floydSteinberg: [\n    {\n      x: 1,\n      y: 0,\n      factor: 7 / 16,\n    },\n    {\n      x: -1,\n      y: 1,\n      factor: 3 / 16,\n    },\n    {\n      x: 0,\n      y: 1,\n      factor: 5 / 16,\n    },\n    {\n      x: 1,\n      y: 1,\n      factor: 1 / 16,\n    },\n  ],\n  jarvisJudiceNinke: [\n    {\n      x: 1,\n      y: 0,\n      factor: 7 / 48,\n    },\n    {\n      x: 2,\n      y: 0,\n      factor: 5 / 48,\n    },\n    {\n      x: -2,\n      y: 1,\n      factor: 3 / 48,\n    },\n    {\n      x: -1,\n      y: 1,\n      factor: 5 / 48,\n    },\n    {\n      x: 0,\n      y: 1,\n      factor: 7 / 48,\n    },\n    {\n      x: 1,\n      y: 1,\n      factor: 5 / 48,\n    },\n    {\n      x: 2,\n      y: 1,\n      factor: 3 / 48,\n    },\n    {\n      x: -2,\n      y: 2,\n      factor: 1 / 48,\n    },\n    {\n      x: -1,\n      y: 2,\n      factor: 3 / 48,\n    },\n    {\n      x: 0,\n      y: 2,\n      factor: 5 / 48,\n    },\n    {\n      x: 1,\n      y: 2,\n      factor: 3 / 48,\n    },\n    {\n      x: 2,\n      y: 2,\n      factor: 1 / 48,\n    },\n  ],\n  stucki: [\n    {\n      x: 1,\n      y: 0,\n      factor: 8 / 42,\n    },\n    {\n      x: 2,\n      y: 0,\n      factor: 4 / 42,\n    },\n    {\n      x: -2,\n      y: 1,\n      factor: 2 / 42,\n    },\n    {\n      x: -1,\n      y: 1,\n      factor: 4 / 42,\n    },\n    {\n      x: 0,\n      y: 1,\n      factor: 8 / 42,\n    },\n    {\n      x: 1,\n      y: 1,\n      factor: 4 / 42,\n    },\n    {\n      x: 2,\n      y: 1,\n      factor: 2 / 42,\n    },\n    {\n      x: -2,\n      y: 2,\n      factor: 1 / 42,\n    },\n    {\n      x: -1,\n      y: 2,\n      factor: 2 / 42,\n    },\n    {\n      x: 0,\n      y: 2,\n      factor: 4 / 42,\n    },\n    {\n      x: 1,\n      y: 2,\n      factor: 2 / 42,\n    },\n    {\n      x: 2,\n      y: 2,\n      factor: 1 / 42,\n    },\n  ],\n  atkinson: [\n    {\n      x: 1,\n      y: 0,\n      factor: 1 / 8,\n    },\n    {\n      x: 2,\n      y: 0,\n      factor: 1 / 8,\n    },\n    {\n      x: -1,\n      y: 1,\n      factor: 1 / 8,\n    },\n    {\n      x: 0,\n      y: 1,\n      factor: 1 / 8,\n    },\n    {\n      x: 1,\n      y: 1,\n      factor: 1 / 8,\n    },\n    {\n      x: 0,\n      y: 2,\n      factor: 1 / 8,\n    },\n  ],\n  burkes: [\n    {\n      x: 1,\n      y: 0,\n      factor: 8 / 32,\n    },\n    {\n      x: 2,\n      y: 0,\n      factor: 4 / 32,\n    },\n    {\n      x: -2,\n      y: 1,\n      factor: 2 / 32,\n    },\n    {\n      x: -1,\n      y: 1,\n      factor: 4 / 32,\n    },\n    {\n      x: 0,\n      y: 1,\n      factor: 8 / 32,\n    },\n    {\n      x: 1,\n      y: 1,\n      factor: 4 / 32,\n    },\n    {\n      x: 2,\n      y: 1,\n      factor: 2 / 32,\n    },\n  ],\n  sierra3: [\n    {\n      x: 1,\n      y: 0,\n      factor: 5 / 32,\n    },\n    {\n      x: 2,\n      y: 0,\n      factor: 3 / 32,\n    },\n    {\n      x: -2,\n      y: 1,\n      factor: 2 / 32,\n    },\n    {\n      x: -1,\n      y: 1,\n      factor: 4 / 32,\n    },\n    {\n      x: 0,\n      y: 1,\n      factor: 5 / 32,\n    },\n    {\n      x: 1,\n      y: 1,\n      factor: 4 / 32,\n    },\n    {\n      x: 2,\n      y: 1,\n      factor: 2 / 32,\n    },\n    {\n      x: -1,\n      y: 2,\n      factor: 2 / 32,\n    },\n    {\n      x: 0,\n      y: 2,\n      factor: 3 / 32,\n    },\n    {\n      x: 1,\n      y: 2,\n      factor: 2 / 32,\n    },\n  ],\n  sierra2: [\n    {\n      x: 1,\n      y: 0,\n      factor: 4 / 16,\n    },\n    {\n      x: 2,\n      y: 0,\n      factor: 3 / 16,\n    },\n    {\n      x: -2,\n      y: 1,\n      factor: 1 / 16,\n    },\n    {\n      x: -1,\n      y: 1,\n      factor: 2 / 16,\n    },\n    {\n      x: 0,\n      y: 1,\n      factor: 3 / 16,\n    },\n    {\n      x: 1,\n      y: 1,\n      factor: 2 / 16,\n    },\n    {\n      x: 2,\n      y: 1,\n      factor: 1 / 16,\n    },\n  ],\n  sierraLite: [\n    {\n      x: 1,\n      y: 0,\n      factor: 2 / 4,\n    },\n    {\n      x: -1,\n      y: 1,\n      factor: 1 / 4,\n    },\n    {\n      x: 0,\n      y: 1,\n      factor: 1 / 4,\n    },\n  ],\n  none: [],\n};\n","import matrices from './matrices.js';\n\nconst colorMap = [\n  [0, 0, 0xff],\n  [0xff, 0, 0],\n  [0xff, 0, 0xff],\n  [0, 0xff, 0],\n  [0, 0xff, 0xff],\n  [0xff, 0xff, 0],\n  [0xff, 0xff, 0xff],\n  [0, 0, 0],\n  [0, 0, 0xd7],\n  [0xd7, 0, 0],\n  [0xd7, 0, 0xd7],\n  [0, 0xd7, 0],\n  [0, 0xd7, 0xd7],\n  [0xd7, 0xd7, 0],\n  [0xd7, 0xd7, 0xd7],\n];\n\nfunction getDistance(current, match) {\n  const redDifference = current[0] - match[0];\n  const greenDifference = current[1] - match[1];\n  const blueDifference = current[2] - match[2];\n\n  return (\n    redDifference * redDifference +\n    greenDifference * greenDifference +\n    blueDifference * blueDifference\n  );\n}\n\n// feels expensive, but https://www.cyotek.com/blog/finding-nearest-colors-using-euclidean-distance\nfunction defaultFindColor(rgb) {\n  let shortestDistance;\n  let index;\n\n  index = -1;\n  shortestDistance = Number.MAX_SAFE_INTEGER;\n\n  for (let i = 0; i < colorMap.length; i++) {\n    const match = colorMap[i];\n    const distance = getDistance(rgb, match);\n\n    if (distance < shortestDistance) {\n      index = i;\n      shortestDistance = distance;\n    }\n  }\n\n  return [...colorMap[index], 255];\n}\n\nconst defaults = {\n  step: 4,\n  channels: 4,\n  diffusionFactor: 0.9,\n  clip: () => {},\n  findColor: defaultFindColor,\n  matrix: matrices.floydSteinberg,\n};\n\nexport default class Dither {\n  constructor(options) {\n    this.options = { ...defaults, ...options };\n  }\n\n  static get defaultFindColor() {\n    return defaultFindColor;\n  }\n\n  static get matrices() {\n    return matrices;\n  }\n\n  dither(buffer, width, settings = {}) {\n    let i, k, ref, x, y;\n    const options = { ...this.options, ...settings };\n\n    const d = [];\n    for (\n      i = k = 0, ref = buffer.length;\n      0 <= ref ? k <= ref : k >= ref;\n      i = 0 <= ref ? ++k : --k\n    ) {\n      d.push(buffer[i]);\n    }\n    const height = buffer.length / (options.channels * width);\n    const result = [];\n    y = 0;\n    while (y < height) {\n      x = 0;\n      while (x < width) {\n        this.handlePixel(x, y, d, result, width, options);\n        x += options.step;\n      }\n      y += options.step;\n    }\n    return result;\n  }\n\n  calculateIndex(x, y, width, channels) {\n    return channels * x + channels * y * width;\n  }\n\n  handlePixel(x, y, d, result, width, options) {\n    var currentColor, i, j, k, l, newColor, q, ref, ref1;\n    i = this.calculateIndex(x, y, width, options.channels);\n    currentColor = [];\n    for (\n      j = k = 0, ref = options.channels;\n      0 <= ref ? k < ref : k > ref;\n      j = 0 <= ref ? ++k : --k\n    ) {\n      currentColor.push(d[i + j]);\n    }\n    newColor = options.findColor(currentColor);\n    q = [];\n    for (\n      j = l = 0, ref1 = options.channels;\n      0 <= ref1 ? l < ref1 : l > ref1;\n      j = 0 <= ref1 ? ++l : --l\n    ) {\n      q[j] = (d[i + j] - newColor[j]) * options.diffusionFactor;\n    }\n    this.diffuseError(d, q, x, y, width, options);\n    return this.applyNewColor(result, width, newColor, i, options);\n  }\n\n  diffuseError(d, q, x, y, width, options) {\n    var channelOffset, entry, index, k, l, len, ref, ref1, results;\n    ref = options.matrix;\n    results = [];\n    for (k = 0, len = ref.length; k < len; k++) {\n      entry = ref[k];\n      index = this.calculateIndex(\n        x + options.step * entry.x,\n        y + options.step * entry.y,\n        width,\n        options.channels\n      );\n      for (\n        channelOffset = l = 0, ref1 = options.channels;\n        0 <= ref1 ? l < ref1 : l > ref1;\n        channelOffset = 0 <= ref1 ? ++l : --l\n      ) {\n        d[index + channelOffset] += entry.factor * q[channelOffset];\n      }\n      results.push(options.clip(d, index));\n    }\n    return results;\n  }\n\n  applyNewColor(buffer, width, newColor, i, options) {\n    var di, dx, dy, j, k, ref, results;\n    results = [];\n    for (\n      dx = k = 0, ref = options.step;\n      0 <= ref ? k < ref : k > ref;\n      dx = 0 <= ref ? ++k : --k\n    ) {\n      results.push(\n        (function() {\n          var l, ref1, results1;\n          results1 = [];\n          for (\n            dy = l = 0, ref1 = options.step;\n            0 <= ref1 ? l < ref1 : l > ref1;\n            dy = 0 <= ref1 ? ++l : --l\n          ) {\n            di = i + options.channels * dx + options.channels * width * dy;\n            results1.push(\n              (function() {\n                var m, ref2, results2;\n                results2 = [];\n                for (\n                  j = m = 0, ref2 = options.channels;\n                  0 <= ref2 ? m < ref2 : m > ref2;\n                  j = 0 <= ref2 ? ++m : --m\n                ) {\n                  results2.push((buffer[di + j] = newColor[j]));\n                }\n                return results2;\n              })()\n            );\n          }\n          return results1;\n        })()\n      );\n    }\n    return results;\n  }\n}\n","import Zoom from './Zoom.js';\n\nexport default function main(image) {\n  return imageToBlob(image).then(fileToBinary);\n}\n\nexport function contrast(imageData, contrast = 50) {\n  const data = imageData.data;\n  contrast = contrast / 100 + 1; //convert to decimal & shift range: [0..2]\n  const intercept = 128 * (1 - contrast);\n  for (let i = 0; i < data.length; i += 4) {\n    data[i] = data[i] * contrast + intercept;\n    data[i + 1] = data[i + 1] * contrast + intercept;\n    data[i + 2] = data[i + 2] * contrast + intercept;\n  }\n  return imageData;\n}\n\nexport function threshold(data, _, threshold = _) {\n  for (let i = 0; i < data.length; i += 4) {\n    const r = data[i];\n    const g = data[i + 1];\n    const b = data[i + 2];\n\n    const test = 0.2126 * r + 0.7152 * g + 0.0722 * b;\n\n    const v = test >= threshold ? 255 : 0;\n    data[i] = data[i + 1] = data[i + 2] = v;\n  }\n\n  invertPotentialInk(data);\n\n  return data;\n}\n\nexport function invertPotentialInk(imageData) {\n  const zoom = new Zoom(imageData);\n  for (let y = 0; y < 192 / 8; y++) {\n    for (let x = 0; x < 256 / 8; x++) {\n      const block = zoom.pixel(x, y);\n\n      let inkCount = 0;\n      for (let i = 0; i < 8 * 8 * 4; i += 4) {\n        if (block[i] === 0) {\n          // black = ink\n          inkCount = inkCount + 1;\n        }\n      }\n\n      if (inkCount < 32) {\n        // flip\n        for (let i = 0; i < 8 * 8 * 4; i += 4) {\n          const c = block[i] === 0 ? 255 : 0;\n          block[i] = block[i + 1] = block[i + 2] = c;\n        }\n      }\n    }\n  }\n  return imageData;\n}\n\nfunction crop(\n  source = { width: 0, height: 0 },\n  destination = { width: 0, height: 0 }\n) {\n  // result:\n  let x = 0;\n  let y = 0;\n\n  // which is longest side\n  let longest = 'width';\n  let shortest = 'height';\n  if (destination.width < destination.height) {\n    [longest, shortest] = [shortest, longest];\n  }\n\n  // get divisor\n  const d = source[longest] / destination[longest]; // FIXME does this work for scaling up?\n\n  const width = (destination.width * d) | 0;\n  const height = (destination.height * d) | 0;\n\n  if (longest === 'height') {\n    x = (source[shortest] - width) / 2;\n  } else {\n    y = (source[shortest] - height) / 2;\n  }\n\n  return { x, y, width, height };\n}\n\nexport function imageToCanvas(\n  img,\n  scale = { width: img.width, height: img.height }\n) {\n  const canvas = document.createElement('canvas');\n  canvas.style.imageRendering = 'pixelated';\n  const ctx = canvas.getContext('2d');\n  canvas.width = scale.width;\n  canvas.height = scale.height;\n\n  const { x, y, height, width } = crop(img, canvas);\n\n  ctx.drawImage(img, x, y, width, height, 0, 0, canvas.width, canvas.height);\n\n  return ctx;\n}\n\nexport function imageToPixels(img, scale) {\n  const ctx = imageToCanvas(img, scale);\n  return ctx.getImageData(0, 0, ctx.canvas.width, ctx.canvas.height);\n}\n\nexport async function imageToBlob(img, ctx = imageToCanvas(img)) {\n  return new Promise(resolve => {\n    const canvas = ctx.canvas;\n    canvas.toBlob(file => resolve(file));\n  });\n}\n\nexport function fileToBinary(file) {\n  return new Promise(resolve => {\n    const reader = new window.FileReader();\n    reader.onloadend = () => resolve(new Uint8Array(reader.result));\n    reader.readAsArrayBuffer(file);\n  });\n}\n","import Dither from './Dither.js';\nimport Zoom from './Zoom.js';\nimport { imageToCanvas, contrast } from './image.js';\nimport {\n  attributesForBlock,\n  readAttributes,\n  pixelsForSCR,\n  putAttributes,\n  getInkFromPixel,\n  putPixels,\n} from './scr.js';\n\nexport async function dither({ url, all = false, debug = false }) {\n  const img = new Image();\n  img.crossOrigin = 'anonymous';\n  img.src = url;\n  await new Promise((resolve, reject) => {\n    img.onload = resolve;\n    img.onerror = reject;\n  });\n  if (debug) document.body.appendChild(img);\n  const ctx = imageToCanvas(img, { width: 256, height: 192 });\n  const canvas = ctx.canvas;\n  const w = canvas.width;\n  const h = canvas.height;\n\n  if (debug) document.body.appendChild(canvas);\n\n  // the buffer is used to draw into as a temp space\n  const bufferCtx = document.createElement('canvas').getContext('2d');\n  bufferCtx.canvas.width = w;\n  bufferCtx.canvas.height = h;\n\n  if (debug) document.body.appendChild(bufferCtx.canvas);\n\n  const dither = new Dither({\n    matrix: Dither.matrices.none,\n    step: 1,\n  });\n\n  const { imageData: inkData } = await render(ctx, bufferCtx, dither, {\n    diffusionFactor: 0.1,\n    matrix: Dither.matrices.atkinson,\n  });\n\n  const { imageData: pixelData } = await renderFromInk(bufferCtx, bufferCtx);\n\n  // load all the final output into SCR format - starting with binary for pixels\n  const pixels = new Uint8Array((256 * 192) / 8 + 768);\n  putPixels(0, pixels, pixelData.data);\n  putPixels(1, pixels, pixelData.data);\n  putPixels(2, pixels, pixelData.data);\n\n  // then try to work out the attributes (bright, ink and paper)\n  putAttributes(pixels, inkData);\n\n  if (all) {\n    return {\n      pixels,\n      inkData,\n      pixelData,\n      originalData: ctx.getImageData(0, 0, w, h),\n    };\n  }\n\n  return pixels; // this is the raw binary .src format\n}\n\nasync function pixelsToImage(pixels) {\n  const ctx = document.createElement('canvas').getContext('2d');\n  const canvas = ctx.canvas;\n  canvas.width = 256;\n  canvas.height = 192;\n\n  ctx.putImageData(pixels, 0, 0);\n\n  const url = canvas.toDataURL('image/png');\n  const img = new Image();\n  img.src = url;\n  return new Promise(resolve => (img.onload = () => resolve(img)));\n}\n\nexport default async function main(\n  url = `https://twivatar.glitch.me/${prompt('Give me a twitter handle:')}`\n) {\n  // export default async function main(url = './image-manip/tap-js.png') {\n  // const username = prompt('Give me a twitter handle:');\n\n  // ctx = drawing context with our source image\n  const { pixels, inkData, pixelData, originalData } = await dither(\n    // `https://twivatar.glitch.me/${username}`,\n    url,\n    true\n  );\n\n  const scrBlob = new Blob([pixels], {\n    'content-type': 'application/binary',\n  });\n  const scrURL = URL.createObjectURL(scrBlob);\n\n  const container = document.createElement('div');\n  document.body.appendChild(container);\n\n  const scrCtx = document.createElement('canvas').getContext('2d');\n  scrCtx.canvas.width = 256;\n  scrCtx.canvas.height = 192;\n  container.appendChild(scrCtx.canvas);\n  // validate our pixels by translating the SCR binary back into a canvas\n  pixelsForSCR(pixels, scrCtx);\n\n  const ul = document.createElement('ul');\n  ul.innerHTML = `<li><a href=\"${scrURL}\" download=\"image.scr\">Download .SCR file</a></li>`;\n\n  const li = document.createElement('li');\n  ul.appendChild(li);\n  const attribsLI = document.createElement('li');\n  ul.appendChild(attribsLI);\n  document.body.appendChild(ul);\n\n  // put all the image data into imgs\n  const img2 = await pixelsToImage(originalData);\n  container.appendChild(img2);\n  const inkImg = await pixelsToImage(inkData);\n  container.appendChild(inkImg);\n  const pixelImg = await pixelsToImage(pixelData);\n  container.appendChild(pixelImg);\n\n  const zoomOriginal = new Zoom(img2);\n  const zoomPixel = new Zoom(pixelImg);\n  const zoomInk = new Zoom(inkImg);\n  const zoomResult = new Zoom(scrCtx);\n\n  const rootCanvas = document.querySelector('canvas');\n  rootCanvas.classList.add('crosshair');\n\n  let hover = true;\n\n  rootCanvas.onclick = () => {\n    hover = !hover;\n  };\n\n  rootCanvas.onmousemove = e => {\n    if (!hover) return;\n    const x = (e.pageX / 8) | 0;\n    const y = (e.pageY / 8) | 0;\n    zoomResult.seeXY(x, y);\n    zoomOriginal.seeXY(x, y);\n    zoomInk.seeXY(x, y);\n    zoomPixel.seeXY(x, y);\n    li.innerHTML = `{ x: ${x}, y: ${y} }`;\n    const block = zoomInk.pixel(x, y);\n    const byte = attributesForBlock(block);\n    window.attributesForBlock = attributesForBlock.bind(null, block);\n    const debug = y === 18 && x === 20;\n    const attribs = readAttributes(byte, debug);\n    const ink = attribs.ink.join(',');\n    const paper = attribs.paper.join(',');\n    attribsLI.innerHTML = `ink: ${ink} (${attribs.values.ink}) <span class=\"block\" style=\"background: rgb(${ink})\"></span>, paper: ${paper} (${attribs.values.paper}) <span class=\"block\" style=\"background: rgb(${paper})\"></span>`;\n  };\n}\n\nasync function render(ctx, bufferCtx, dither, options = {}) {\n  const w = ctx.canvas.width;\n  const h = ctx.canvas.height;\n  const buffer = contrast(ctx.getImageData(0, 0, w, h), 10);\n  const res = dither.dither(buffer.data, w, options);\n  const imageData = new ImageData(new Uint8ClampedArray(res), w, h);\n  bufferCtx.putImageData(imageData, 0, 0);\n\n  return { imageData };\n}\n\nfunction putInkForBlock(\n  zoom,\n  x,\n  y,\n  newBlock = new Uint8ClampedArray(8 * 8 * 4)\n) {\n  const block = zoom.pixel(x, y);\n  // 1: find how many colours we're dealing with (256 elements)\n  // 2: if 2 - switch them to majority paper (0b0) and least ink (0b1)\n  // 3: if more than two, order then select\n  const print = x === 3 && y === 1;\n  const byte = attributesForBlock(block, print);\n  const attributes = readAttributes(byte);\n\n  if (print) console.log(attributes);\n\n  for (let i = 0; i < 64; i++) {\n    const ink = getInkFromPixel([...block.slice(i * 4, i * 4 + 3)]);\n\n    if (ink === attributes.values.ink) {\n      newBlock.set([0, 0, 0, 255], i * 4);\n    } else if (ink === attributes.values.paper) {\n      newBlock.set([255, 255, 255, 255], i * 4);\n    } else {\n      newBlock.set([0, 0, 0, 255], i * 4);\n    }\n  }\n\n  return newBlock;\n}\n\nasync function renderFromInk(ctx, bufferCtx) {\n  const w = ctx.canvas.width;\n  const h = ctx.canvas.height;\n  const buffer = ctx.getImageData(0, 0, w, h);\n\n  const zoom = new Zoom(buffer.data);\n\n  const blockBuffer = new Uint8ClampedArray(8 * 8 * 4);\n\n  for (let y = 0; y < 192 / 8; y++) {\n    for (let x = 0; x < 256 / 8; x++) {\n      putInkForBlock(zoom, x, y, blockBuffer);\n\n      bufferCtx.putImageData(new ImageData(blockBuffer, 8, 8), x * 8, y * 8);\n    }\n  }\n\n  const imageData = bufferCtx.getImageData(0, 0, w, h);\n\n  return { imageData };\n}\n\nif (window.location.search.includes('retrofy')) main();\n","import drop from '../lib/dnd.js';\nimport { pixelsForSCR } from './lib/scr.js';\nimport { $ } from '../lib/$.js';\nimport save from '../lib/save.js';\nimport { dither } from './lib/retrofy.js';\n\nconst result = $('#result')[0];\n\nfunction basename(filename) {\n  return filename\n    .split('.')\n    .slice(0, -1)\n    .join('.');\n}\n\nfunction container(filename, altDownload) {\n  const isSCR = filename.toUpperCase().endsWith('.SCR');\n\n  const canvas = document.createElement('canvas');\n  canvas.width = 256;\n  canvas.height = 192;\n  const ctx = canvas.getContext('2d');\n  const div = document.createElement('div');\n  div.className = 'container';\n  div.appendChild(canvas);\n\n  const button = document.createElement('button');\n  div.appendChild(button);\n  button.onclick = async () => {\n    const file = await new Promise(resolve => canvas.toBlob(resolve));\n\n    save(file, basename(filename) + '.png');\n  };\n  button.innerText = 'Download PNG';\n\n  if (!isSCR) {\n    const button = document.createElement('button');\n    div.appendChild(button);\n    button.onclick = async () => {\n      save(altDownload, basename(filename) + '.scr');\n    };\n    button.innerText = 'Download SCR';\n  }\n\n  result.prepend(div);\n  return ctx;\n}\n\nasync function fileHandler(data, filename, type) {\n  if (filename.toUpperCase().endsWith('.SCR')) {\n    pixelsForSCR(data, container(filename));\n  } else {\n    const blob = new Blob([data], { type });\n    const url = URL.createObjectURL(blob);\n    const res = await dither({ url });\n    console.log(res);\n    pixelsForSCR(res, container(filename, res));\n    URL.revokeObjectURL(url);\n  }\n}\n\ndrop(document.body, fileHandler);\n\n$('input').on('change', event => {\n  const file = event.target.files[0];\n  const reader = new FileReader();\n  reader.onload = event =>\n    fileHandler(new Uint8Array(event.target.result), file.name, file.type);\n  reader.readAsArrayBuffer(file);\n});\n"]}